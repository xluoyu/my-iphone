import{r as e,o as t,c as a,a as o,b as n,d as s,e as l,f as p,D as r,g as c,u,T as i,h as d,i as m,j as h,F as v,k as y,l as g,t as k,w as f,p as w,m as b,n as A,q as L,s as S,v as T,x as _,S as x,P as E,y as C,z as M,A as R,B as I,C as N,E as P,G as D,H as B,N as j,I as $,J as O,K as F,L as H,M as V,O as q,Q as z,R as U,U as W}from"./vendor.cdc68c46.js";let Y;!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(a){const o=new URL(e,location),n=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((a,s)=>{const l=new URL(e,o);if(self[t].moduleMap[l])return a(self[t].moduleMap[l]);const p=new Blob([`import * as m from '${l}';`,`${t}.moduleMap['${l}']=m;`],{type:"text/javascript"}),r=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(p),onerror(){s(new Error(`Failed to import: ${e}`)),n(r)},onload(){a(self[t].moduleMap[l]),n(r)}});document.head.appendChild(r)})),self[t].moduleMap={}}}("/my-iphone/assets/");const X={},K=function(e,t){if(!t)return e();if(void 0===Y){const e=document.createElement("link").relList;Y=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in X)return;X[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${a}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":Y,t||(o.as="script",o.crossOrigin=""),o.href=e,document.head.appendChild(o),t?new Promise(((e,t)=>{o.addEventListener("load",e),o.addEventListener("error",t)})):void 0}))).then((()=>e()))},G={};G.render=function(o,n){const s=e("router-view");return t(),a(s)};const J=e=>{let t=document.documentElement.style.fontSize;return t?(t=Q(t),e/t):e},Q=e=>(e=(e=e.replace("px","")).replace("rem",""),Number(e)),Z=e=>{let t=getComputedStyle(document.documentElement).getPropertyValue(e);return t=t.replace("rem",""),t=t.replace("px",""),Number(t)},ee=[{path:"",component:G,name:"home"},{path:"/alipay/:child*",component:G,name:"alipay",meta:{type:"app",style:"black"}},{path:"/music/:child*",component:()=>K((()=>__import__("./index.8504982d.js")),["/my-iphone/assets/index.8504982d.js","/my-iphone/assets/vendor.cdc68c46.js","/my-iphone/assets/vendor.ef8eb434.css"]),name:"music",meta:{style:"white"}},{path:"/calculator/:child*",component:G,name:"calculator",meta:{type:"app",style:"white"}},{path:"/settings",component:()=>K((()=>__import__("./layout.3fc16b41.js")),["/my-iphone/assets/layout.3fc16b41.js","/my-iphone/assets/layout.c7f753f2.css","/my-iphone/assets/vendor.cdc68c46.js","/my-iphone/assets/vendor.ef8eb434.css"]),name:"settings",redirect:"/settings/index",children:[{path:"index",component:()=>K((()=>__import__("./home.9243f88f.js")),["/my-iphone/assets/home.9243f88f.js","/my-iphone/assets/home.fc6d6c7c.css","/my-iphone/assets/vendor.cdc68c46.js","/my-iphone/assets/vendor.ef8eb434.css"]),meta:{title:"设置",back:!1}},{path:"pwd",component:()=>K((()=>__import__("./pwd.bda8c479.js")),["/my-iphone/assets/pwd.bda8c479.js","/my-iphone/assets/vendor.cdc68c46.js","/my-iphone/assets/vendor.ef8eb434.css"]),name:"pwd",meta:{title:"安全设置",back:!0}},{path:"setPwd",component:()=>K((()=>__import__("./setPwd.6cafb93e.js")),["/my-iphone/assets/setPwd.6cafb93e.js","/my-iphone/assets/setPwd.e5dab5c3.css","/my-iphone/assets/vendor.cdc68c46.js","/my-iphone/assets/vendor.ef8eb434.css"]),name:"setPwd",meta:{back:!0,style:"black"}}]},{path:"/safari",component:()=>K((()=>__import__("./index.450a6677.js")),["/my-iphone/assets/index.450a6677.js","/my-iphone/assets/index.a20c3b43.css","/my-iphone/assets/vendor.cdc68c46.js","/my-iphone/assets/vendor.ef8eb434.css"]),name:"safari"}],te=o({history:n("/my-iphone/"),routes:ee});var ae,oe,ne,se,le,pe,re,ce;te.beforeEach(((e,t,a)=>{"home"==e.name&&t.name&&history.pushState({back:t.path,current:"/my-iphone/",forward:null,position:null,replaced:!1,scroll:null},"","/my-iphone/"),a()})),(oe=ae||(ae={})).App="App",oe.Weather="Weather",oe.AppArray="AppArray",(se=ne||(ne={})).defaultApp="defaultApp",se.customApp="customApp",se.clock="clock",se.camera="camera",se.full="fullScreen",(pe=le||(le={})).white="#515151",pe.black="#fff",(ce=re||(re={})).Normal="normal",ce.Number="number",ce.Slide="slide";const ue=s(!1),ie=s(re.Number),de=s(""),me=()=>({lockStatus:ue,lockType:ie,lockPwd:de,changeLockState:e=>{ue.value="boolean"==typeof e?e:!ue.value},setLockPwd:e=>{de.value=e},setLockType:e=>{ie.value=e}}),he=s(!1);let ve=0;const ye=()=>{const e=()=>{he.value=!he.value};let t=!1;const a=()=>{t=!0,e()};return{dragStatus:he,changeDragStatus:e,gotouchstart:e=>{he.value||e.stopPropagation(),he.value||(clearTimeout(ve),ve=window.setTimeout((()=>{ve=0,a()}),600))},gotouchend:()=>{clearTimeout(ve),t&&(t=!1)}}},ge=[{key:"alipay",type:ae.App,photo:"https://xluoyu.github.io/image-riverbed/iphone/alipay.png",name:"支付宝",useType:ne.customApp,status:!0},{key:"weather",type:ae.Weather,name:"天气",status:!0},{key:"settings",type:ae.App,useType:ne.defaultApp,photo:"https://xluoyu.github.io/image-riverbed/iphone/settings.png",name:"设置",status:!0},{key:"safari",type:ae.App,photo:"https://xluoyu.github.io/image-riverbed/iphone/safari.png",name:"Safari 浏览器",useType:ne.defaultApp,status:!0},{key:"photos",type:ae.App,photo:"https://xluoyu.github.io/image-riverbed/iphone/photos.png",name:"图库",useType:ne.defaultApp,status:!1},{key:"phone",type:ae.App,photo:"https://xluoyu.github.io/image-riverbed/iphone/phone.png",name:"phone",useType:ne.defaultApp,status:!1},{key:"appStore",type:ae.App,photo:"https://xluoyu.github.io/image-riverbed/iphone/appStore.png",name:"App Store",useType:ne.defaultApp,status:!1},{key:"music",type:ae.App,photo:"https://xluoyu.github.io/image-riverbed/iphone/music.png",name:"音乐",useType:ne.customApp,status:!0},{key:"camera",type:ae.App,photo:"https://xluoyu.github.io/image-riverbed/iphone/camera.png",name:"相机",useType:ne.camera,status:!0},{key:"fullScreen",type:ae.App,photo:"https://xluoyu.github.io/image-riverbed/iphone/arrow.png",name:"全屏",useType:ne.full,status:!0},{key:"calculator",type:ae.App,photo:"https://xluoyu.github.io/image-riverbed/iphone/calculator.png",name:"计算器",useType:ne.defaultApp,status:!1},{key:"messages",type:ae.App,photo:"https://xluoyu.github.io/image-riverbed/iphone/messages.png",name:"messages",useType:ne.defaultApp,status:!1},{key:"clock",type:ae.App,photo:"https://xluoyu.github.io/image-riverbed/iphone/clock.png",name:"锁屏",useType:ne.clock,status:!0}],ke=s([{key:"weather",type:ae.Weather},{key:"appStore",type:ae.App},{key:"photos",type:ae.App},{key:"camera",type:ae.App},{key:"clock",type:ae.App},{key:"fullScreen",type:ae.App},{name:"工具组",key:"array-0",type:ae.AppArray,children:[{key:"calculator",type:ae.App},{key:"alipay",type:ae.App},{key:"music",type:ae.App},{key:"calculator",type:ae.App},{key:"alipay",type:ae.App},{key:"music",type:ae.App},{key:"calculator",type:ae.App},{key:"alipay",type:ae.App},{key:"music",type:ae.App}]}]),fe=()=>{const e=p((()=>t(ke.value))),t=(e,a)=>e.reduce(((e,o)=>{if(o.type!=ae.AppArray){let t=ge.find((e=>e.key==o.key));a&&(t.parent=a),e.push(t)}else e.push({name:o.name,type:o.type,key:o.key,children:o.children?t(o.children,o.key):[]});return e}),[]);return{localApp:ke,myApplist:e,clearApp:e=>{r.confirm({message:`确定要卸载${e.name}吗？`}).then((()=>{(e=>{let t=e.key,a=e.parent,o=a?ke.value.find((e=>e.key==a)).children:ke.value,n=o.findIndex((e=>e.key==t));o.splice(n,1)})(e)})).catch()}}},we=l({}),be=()=>({appHistory:we,changeRouterHistory:e=>{var t,a,o;let n=we[e.appName];switch(e.type){case"add":if(we[e.appName]){let n=null==(t=we[e.appName])?void 0:t.indexOf(e.value);n&&-1!=n?we[e.appName]=null==(a=we[e.appName])?void 0:a.slice(0,n+1):null==(o=we[e.appName])||o.push(e.value)}else we[e.appName]=[e.value];break;case"remove":n=void 0;break;case"replace":we[e.appName]=[e.value];break;default:null==n||n.push(e.value)}}}),Ae=s(null),Le=()=>({currentApp:Ae,changeCurrentApp:e=>{Ae.value=e}});var Se=c({name:"App",props:{app:{type:Object,default:()=>({})},size:{type:String,default:"normal"}},setup(e){const t=u(),{changeLockState:a}=me(),{dragStatus:o}=ye(),{clearApp:n}=fe(),{appHistory:s}=be(),{changeCurrentApp:l}=Le();return{open:async()=>{if("mini"==e.size)return;if(o.value)return void n(e.app);if(e.app.type==ae.AppArray)return void l(e.app);if(!e.app.status)return void i("这个还没写/(ㄒoㄒ)/~~");let p=e.app.key;switch(e.app.useType){case ne.clock:a();break;case ne.camera:!function(){let e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept","image/*"),e.setAttribute("capture","environment"),e.addEventListener("change",(()=>{const t=new FileReader;let a=e.files?e.files[0]:null;a&&(t.readAsDataURL(a),t.onload=t=>{document.body.removeChild(e),r.confirm({title:"图片预览",message:()=>{var e;return m("img",{src:null==(e=null==t?void 0:t.target)?void 0:e.result,style:{width:"100%"}})},confirmButtonText:"保存",cancelButtonText:"取消"}).then((()=>{i.success("保存成功")})).catch()})})),document.body.append(e),e.click()}();break;case ne.full:if(document.fullscreenElement)document.exitFullscreen();else try{document.documentElement.requestFullscreen().catch((()=>{i("这个浏览器好像不支持/(ㄒoㄒ)/~~")}))}catch(u){i("这个浏览器好像不支持/(ㄒoㄒ)/~~")}break;default:e.app.useType==ne.customApp&&await(c=e.app.key,new Promise((e=>{d([{name:c,entry:"http://192.168.0.184:1921",container:"#routerView",activeRule:"/my-iphone/"+c,props:{slogan:"Hello Qiankun",baseRoute:"/my-iphone/"}}]),e()})));let o=s[p]?s[p]:[];o&&o.length?o.forEach((e=>{requestAnimationFrame((()=>{t.push(e)}))})):t.push({name:p})}var c},IItemKey:ae}}});const Te=f();w("data-v-1517a7e4");const _e={key:1,class:"app-array"};b();const xe=Te(((o,n,s,l,p,r)=>{const c=e("App");return t(),a("div",{class:["app",o.size],id:o.app.key,onClick:n[1]||(n[1]=(...e)=>o.open&&o.open(...e))},[o.app.type==o.IItemKey.App?(t(),a("img",{key:0,src:o.app.photo,alt:""},null,8,["src"])):h("",!0),o.app.type==o.IItemKey.AppArray?(t(),a("div",_e,[(t(!0),a(v,null,y(o.app.children,(e=>(t(),a(c,{key:e.key,app:e,size:"mini"},null,8,["app"])))),128))])):h("",!0),g("p",null,k(o.app.name),1)],10,["id"])}));Se.render=xe,Se.__scopeId="data-v-1517a7e4";var Ee=c({components:{App:Se},setup:()=>({appList:["phone","messages","safari","settings"].map((e=>ge.find((t=>t.key==e))))})});const Ce=f();w("data-v-75e747f1");const Me={class:"dock"};b();const Re=Ce(((o,n,s,l,p,r)=>{const c=e("App");return t(),a("div",Me,[(t(!0),a(v,null,y(o.appList,(e=>(t(),a(c,{key:e.key,app:e},null,8,["app"])))),128))])}));Ee.render=Re,Ee.__scopeId="data-v-75e747f1";var Ie=c({props:{app:{type:Object,default:()=>({})}},setup(){const{dragStatus:e,gotouchstart:t,gotouchend:a}=ye();return{dragStatus:e,gotouchstart:t,gotouchend:a}}});const Ne=f()(((o,n,s,l,p,r)=>{const c=e("van-icon");return t(),a("div",{class:"app-box",onTouchstart:n[1]||(n[1]=(...e)=>o.gotouchstart&&o.gotouchstart(...e)),onTouchend:n[2]||(n[2]=(...e)=>o.gotouchend&&o.gotouchend(...e))},[g("div",{class:""+(o.dragStatus?"shake":""),style:{width:"100%",height:"100%"}},[o.dragStatus?(t(),a(c,{key:0,name:"clear",class:"close"})):h("",!0),A(o.$slots,"default",{},void 0,!0)],2)],32)}));Ie.render=Ne,Ie.__scopeId="data-v-c0dad38e";var Pe=c({setup(){L((()=>{window.WIDGET={CONFIG:{layout:"1",width:"337",height:"152",background:"1",dataColor:"FFFFFF",modules:"10",borderRadius:"14",key:"bd944729128a411586b094b8ad992a74"}},((e,t)=>{const a=document.createElement("script");a.type="text/javascript",a.src=e,document.body.appendChild(a),a.onload=t||{}})("https://widget.qweather.net/standard/static/js/he-standard-common.js?v=2.0",(()=>{S((()=>{let e=document.querySelector("#he-plugin-standard");e&&(e.style.width="100%")}))}))}))},methods:{navTo(){window.open("https://widget-page.qweather.net/h5/index.html?md=0123456&bg=1&lc=accu&key=6ccfdfa816e341a895dfe493d5d1f585&demo=true&v=_1619672129584")}}});const De=f();w("data-v-9fc31f9a");const Be={class:"weather"},je=g("div",{id:"he-plugin-standard"},null,-1),$e=g("p",null,"天气",-1);b();const Oe=De(((e,o,n,s,l,p)=>(t(),a("div",Be,[je,$e]))));Pe.render=Oe,Pe.__scopeId="data-v-9fc31f9a";x.use([E]);let Fe=s(null);var He=c({name:"Home",components:{Dock:Ee,HandleApp:Ie},setup(){const{dragStatus:e,changeDragStatus:t}=ye(),{appsList:a,curColumn:o}=(()=>{const e=s(0),t=Z("--grid-row-gap"),a=Z("--app-height"),o=Z("--app-width"),n=Z("--grid-col-gap"),{localApp:l,myApplist:p}=fe(),r=s([[]]),c=()=>{const s=document.querySelector(".swiper-slide");if(!s)return;let{width:l,height:c}=s.getBoundingClientRect();l=J(l),c=J(c);const u=Math.floor((c+t)/(a+t)),i=Math.floor((l+n)/(o+n));e.value=i,console.log(n);const d=u*i;let m=0,h=0,v=[[]];p.value.forEach((e=>{switch(e.type){case ae.App:h+=1,e.component=_(Se);break;case ae.Weather:h+=2*i,e.component=_(Pe),e.style=`grid-column-start: 1;grid-column-end: ${i+1};grid-row-start:1;grid-row-end:3`;break;default:h+=1,e.component=_(Se)}h>d?(h=0,v.push([e]),m+=1):v[m].push(e)})),r.value=v};return T(l.value,(()=>{c()})),L((()=>{window.addEventListener("resize",c),c()})),{appsList:r,curColumn:e}})(),{containerBgX:n,containerBgDuration:l,swiperMain:p}=(()=>{const e=s(0),t=s(0);return L((()=>{S((()=>{Fe.value=new x(".my-swipe",{pagination:{el:".swiper-pagination"},loop:!1,watchSlidesProgress:!0,on:{progress:(a,o)=>{let n=Number((50*o).toFixed(2));Math.abs(n-e.value)>20?t.value=.3:t.value=0,e.value=n}}})}))})),{containerBgX:e,containerBgDuration:t,swiperMain:Fe}})();L((()=>{(e=>{let t=document.querySelector(e),a=0,o={animation:500,ghostClass:"box-ghost",forceFallback:!1,onStart:function(e){a=e.originalEvent.targetTouches[0].clientX-e.item.offsetLeft,a=e.item.offsetWidth/2-a,Fe.value.allowTouchMove=!1},onMove:function(e){const t=e.relatedRect.left+e.relatedRect.width/3,o=e.relatedRect.left+e.relatedRect.width/3*2,n=e.relatedRect.top+e.relatedRect.height/5,s=e.relatedRect.top+e.relatedRect.height/5*4,l=e.originalEvent.clientX+a,p=e.originalEvent.clientY;if(e.willInsertAfter){if(l>o)return e.related.classList.remove("changeToBox"),!0}else if(l<t)return e.related.classList.remove("changeToBox"),!0;return t<l&&l<o&&p>n&&p<s?e.related.classList.add("changeToBox"):e.related.classList.remove("changeToBox"),!1},onEnd:function(e){n.toArray(),Fe.value.allowTouchMove=!0}};const n=C.create(t,o)})(".grid-box")})),T(a.value,(()=>{S((()=>{var e;null==(e=p.value)||e.update()}))}));return{test:()=>{document.documentElement.requestFullscreen()},curColumn:o,appsList:a,containerBgX:n,containerBgDuration:l,closeDarg:()=>{0!=e.value&&t()},dragStatus:e}}});const Ve=f();w("data-v-97a67e18");const qe={class:"swiper-container my-swipe"},ze={class:"swiper-wrapper"},Ue=g("div",{class:"swiper-pagination"},null,-1);b();const We=Ve(((o,n,s,l,p,r)=>{const c=e("HandleApp"),u=e("Dock");return t(),a("div",{class:"container",style:`background-position-x: ${o.containerBgX}%;transition: background ${o.containerBgDuration}s;`},[o.dragStatus?(t(),a("div",{key:0,class:"closeHandle",onClick:n[1]||(n[1]=(...e)=>o.closeDarg&&o.closeDarg(...e))},"完成")):h("",!0),g("div",qe,[g("div",ze,[(t(!0),a(v,null,y(o.appsList,((e,s)=>(t(),a("div",{class:"swiper-slide",key:s},[g("div",{class:"grid-box",onClick:n[2]||(n[2]=M(((...e)=>o.closeDarg&&o.closeDarg(...e)),["self"])),style:`grid-template-columns: repeat(${o.curColumn}, var(--app-width))`},[(t(!0),a(v,null,y(e,(e=>(t(),a(c,{key:e.key,style:e.style,app:e,"data-id":e.key},{default:Ve((()=>[(t(),a(R(e.component),{app:e},null,8,["app"]))])),_:2},1032,["style","app","data-id"])))),128))],4)])))),128))]),Ue]),g(u)],4)}));He.render=We,He.__scopeId="data-v-97a67e18";var Ye=c({emits:["closeApp"],setup(e,t){const a=I(),o=u(),n=s(!0),l=p((()=>{var e;return le[(null==(e=a.meta)?void 0:e.style)||"white"]})),{changeRouterHistory:r}=be();T((()=>a.path),(()=>{"home"!=a.name&&a.matched.length&&a.matched[0].name&&r({type:"add",appName:a.matched[0].name,value:a.fullPath})}));return{fade:n,color:l,closeApp:async()=>{n.value=!1,t.emit("closeApp"),setTimeout((()=>{o.push({name:"home"}),n.value=!0}),500)}}}});const Xe=f();w("data-v-3c572cd9");const Ke={class:"app-layout",ref:"appBox"},Ge={t:"1620283141610",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2038",width:"200",height:"200"},Je={id:"routerView"};b();const Qe=Xe(((o,n,s,l,p,r)=>{const c=e("router-view");return t(),a("div",Ke,[g("div",{class:"close",onClick:n[1]||(n[1]=(...e)=>o.closeApp&&o.closeApp(...e))},[(t(),a("svg",Ge,[g("path",{d:"M512 0C228.96 0 0 228.96 0 512c0 283.04 228.96 512 512 512 283.04 0 512-228.96 512-512C1024 228.96 795.04 0 512 0z m0 903.52c-216.8 0-391.52-174.72-391.52-391.52 0-216.8 174.72-391.52 391.52-391.52 216.8 0 391.52 174.72 391.52 391.52 0 216.8-174.72 391.52-391.52 391.52z",fill:o.color,"p-id":"2039"},null,8,["fill"]),g("path",{d:"M316.16 512c0 108.16 87.68 195.84 195.84 195.84S707.84 620.16 707.84 512 620.16 316.16 512 316.16 316.16 403.84 316.16 512z m0 0",fill:o.color,"p-id":"2040"},null,8,["fill"])]))]),o.$route.meta&&"app"==o.$route.meta.type?h("",!0):(t(),a(c,{key:0},{default:Xe((({Component:e})=>[g(N,{name:"fade"},{default:Xe((()=>[(t(),a(R(e),{ref:"component"},null,512))])),_:2},1024)])),_:1})),g(N,{name:"fade"},{default:Xe((()=>[P(g("div",Je,"系统加载中...",512),[[D,"app"==o.$route.meta.type]])])),_:1})],512)}));Ye.render=Qe,Ye.__scopeId="data-v-3c572cd9";const Ze=B.create({baseURL:"/",timeout:1e4});Ze.interceptors.request.use((e=>(e.headers["Content-Type"]="application/x-www-form-urlencoded","post"===e.method&&e.data?(e.data=JSON.stringify(e.data),e.headers["Content-Type"]="application/json",e):e)),(e=>(console.log(e),Promise.reject(e)))),Ze.interceptors.response.use((e=>e.data),(e=>(console.log("err"+e),j(e.message),Promise.reject(e))));const et=[1,2,3,4,5,6,7,8,9];var tt=c({props:{password:{type:String,default:""}},emits:["callback","close"],setup(e,t){const a=s([]),o=s(!1),n=()=>{let n=a.value.join("");e.password&&e.password!=n?(o.value=!0,setTimeout((()=>{o.value=!1,a.value=[],t.emit("callback",n,!1)}),500)):(a.value=[],t.emit("callback",n,!0))};return{keys:et,inputList:a,dance:o,ketDown:e=>{a.value.length>=6||(a.value.push(e),6==a.value.length&&n())},cancel:()=>{t.emit("close")},remove:()=>{a.value.pop()}}}});const at=f();w("data-v-44182a9e");const ot={class:"keyboard"},nt=g("div",{class:"btn empty"},null,-1),st=g("div",{class:"btn empty"},null,-1),lt={class:"handle"},pt=g("div",null,null,-1);b();const rt=at(((e,o,n,s,l,p)=>(t(),a("div",null,[g("div",{class:{input:!0,dance:e.dance}},[(t(),a(v,null,y(6,(t=>g("div",{class:{garden:!0,fill:e.inputList.length>=t},key:t},null,2))),64))],2),g("div",ot,[(t(!0),a(v,null,y(e.keys,(o=>(t(),a("div",{class:"btn",key:o,onTouchend:t=>e.ketDown(o)},k(o),41,["onTouchend"])))),128)),nt,g("div",{class:"btn",onTouchend:o[1]||(o[1]=t=>e.ketDown(0))},"0",32),st]),g("div",lt,[A(e.$slots,"default",{},(()=>[pt]),{}),P(g("div",{onClick:o[2]||(o[2]=(...t)=>e.remove&&e.remove(...t))},"删除",512),[[D,e.inputList.length]]),P(g("div",{onClick:o[3]||(o[3]=(...t)=>e.cancel&&e.cancel(...t))},"取消",512),[[D,!e.inputList.length]])])]))));tt.render=rt,tt.__scopeId="data-v-44182a9e";var ct=c({components:{numberLock:tt},emits:["openLock","cancel"],setup(e,t){const{lockPwd:a}=me();return{password:a,op:()=>{t.emit("openLock")},cancel:()=>{t.emit("cancel")},lockCallback:(e,a)=>{a&&t.emit("openLock")}}}});const ut=f();w("data-v-07215331");const it={class:"container"},dt=g("div",{class:"top"},"输入密码",-1);b();const mt=ut(((o,n,s,l,p,r)=>{const c=e("numberLock");return t(),a("div",it,[dt,g(c,{password:o.password,onCallback:o.lockCallback,onClose:o.cancel},{default:ut((()=>[g("div",{onClick:n[1]||(n[1]=(...e)=>o.op&&o.op(...e))},"紧急操作")])),_:1},8,["password","onCallback","onClose"])])}));ct.render=mt,ct.__scopeId="data-v-07215331";const ht=80,vt="#fff",yt="#27ae60",gt="#c0392b",kt=10,ft=30,wt=30;const bt=(e,t,a)=>Math.sqrt(Math.pow(a.x-e,2)+Math.pow(a.y-t,2))<=ht/2;var At=c({props:{password:{type:String,default:""}},emits:["callback"],setup(e,t){const{canvasEl:a,canvasMoveStart:o,canvasMove:n,canvasMoveEnd:p}=function(){const e=l({width:0,height:0,left:0,top:0}),t=s([]),a=s([]);let o,n=s(null);const p=()=>{const a=n.value;if(a){if(o=a.getContext("2d"),e.width=a.width,e.height=a.height,e.left=a.offsetLeft,e.top=a.offsetTop,t.value=[],9!=t.value.length)for(let e=0;e<9;e++){let{x:a,y:o}=r(e),n={x:a,y:o,status:!1,value:e};t.value.push(n)}o.clearRect(0,0,e.width,e.height),t.value.forEach((e=>{c(e)}))}},r=e=>({x:ht*(e%3)+ft*(e%3)+ht/2,y:ht*Math.floor(e/3)+wt*Math.floor(e/3)+ht/2}),c=(e,t=!0)=>{let a=vt;e.status&&(a=t?yt:gt),o.beginPath(),o.arc(e.x,e.y,ht/2-1,0,2*Math.PI,!0),o.strokeStyle=a,o.lineWidth=1,o.stroke(),o.beginPath(),o.arc(e.x,e.y,kt/2,0,2*Math.PI,!0),o.fillStyle=a,o.fill()},u=(n,s,l,p=!0)=>{o.clearRect(0,0,e.width,e.height),o.save(),o.beginPath(),o.strokeStyle=p?yt:gt,o.lineWidth=6,o.lineJoin="round",o.lineCap="round",a.value.forEach(((e,a)=>{0==a?o.moveTo(t.value[e-1].x,t.value[e-1].y):o.lineTo(t.value[e-1].x,t.value[e-1].y)})),l&&a.value.length&&o.lineTo(n,s),o.stroke(),o.restore(),t.value.forEach((e=>{bt(n,s,e)&&!e.status&&(a.value.push(e.value+1),e.status=!0),c(e,p)}))};return L(p),{canvasEl:n,canvasMoveStart:t=>{let{pageX:a,pageY:o}=t.targetTouches[0];a-=e.left,o-=e.top,u(a,o,!0)},canvasMove:t=>{let{pageX:a,pageY:o}=t.targetTouches[0];a-=e.left,o-=e.top,u(a,o,!0)},canvasMoveEnd:(e,t)=>{let o=a.value.join(""),n=!e||o==e;u(0,0,!1,n),t.emit("callback",o,n),a.value=[],setTimeout((()=>{p()}),300)}}}();return{canvasEl:a,canvasMoveStart:o,canvasMove:n,canvasMoveEnd:()=>{p(e.password,t)}}}});const Lt=f()(((e,o,n,s,l,p)=>(t(),a("canvas",{class:"lock-canvas",ref:"canvasEl",width:"300",height:"300",onTouchstart:o[1]||(o[1]=(...t)=>e.canvasMoveStart&&e.canvasMoveStart(...t)),onTouchmove:o[2]||(o[2]=(...t)=>e.canvasMove&&e.canvasMove(...t)),onTouchend:o[3]||(o[3]=(...t)=>e.canvasMoveEnd&&e.canvasMoveEnd(...t))},null,544))));At.render=Lt,At.__scopeId="data-v-4a5eff36";var St=c({components:{SlideLock:At},emits:["openLock","cancel"],setup(e,t){const{lockPwd:a}=me(),o=()=>{t.emit("openLock")};return{password:a,lockCb:(e,t)=>{t&&o()},op:o,cancel:()=>{t.emit("cancel")}}}});const Tt=f();w("data-v-819ee4a4");const _t={class:"container"},xt=g("div",{class:"top"},"手势解锁",-1),Et={class:"handle"};b();const Ct=Tt(((o,n,s,l,p,r)=>{const c=e("SlideLock");return t(),a("div",_t,[xt,g(c,{password:o.password,onCallback:o.lockCb},null,8,["password","onCallback"]),g("div",Et,[g("div",{onClick:n[1]||(n[1]=(...e)=>o.op&&o.op(...e))},"紧急操作"),g("div",{onClick:n[2]||(n[2]=(...e)=>o.cancel&&o.cancel(...e))},"取消")])])}));St.render=Ct,St.__scopeId="data-v-819ee4a4";const Mt=["日","一","二","三","四","五","六"];function Rt(){const e=s("");return Ze({url:"https://v1.hitokoto.cn/",method:"get"}).then((t=>{e.value=t.hitokoto})),e}var It=c({components:{NumberView:ct,SlideView:St},setup(){const e=s(re.Normal),{lockPwd:t,changeLockState:a}=me(),{time:o,date:n}=function(){let e=s(""),t=s("");const a=()=>{let a=new Date,o=a.getMonth()+1,n=a.getDate(),s=a.getHours();s=s<10?"0"+s:s;let l=a.getMinutes();l=l<10?"0"+l:l;let p=a.getDay();e.value=s+":"+l,t.value=o+"月"+n+"日 周"+Mt[p]};return a(),setTimeout(a,1e3),{time:e,date:t}}(),{transition:l,curBlurNum:p,translateY:r,windowHeight:c,touchStart:u}=function(e,t){const a=s(0),o=s(0),n=s(0),l=s(667|window.innerHeight),{lockType:p,changeLockState:r}=me();return{transition:a,curBlurNum:o,translateY:n,windowHeight:l,touchStart:s=>{let c=s.touches[0].pageY,u=0,i=0,d=e=>{a.value=0;let t=e.touches[0].pageY;u=c-t,i=Math.floor(u/(.8*l.value)*100)/10,o.value=Math.max(0,i),n.value=Math.max(0,u)},m=()=>{a.value=.3,u=u>.2*l.value?l.value:0,n.value=u,o.value=u?1:0,n.value&&setTimeout((()=>{t.value&&p.value!=re.Normal?e.value=p.value:r()}),100),document.removeEventListener("touchmove",d),document.removeEventListener("touchend",m)};document.addEventListener("touchmove",d),document.addEventListener("touchend",m)}}}(e,t),i=Rt();return{lockStep:e,time:o,date:n,transition:l,curBlurNum:p,translateY:r,windowHeight:c,touchStart:u,LockType:re,tipsContent:i,openLock:()=>{setTimeout((()=>{a(),e.value=re.Normal}),100)},cancel:()=>{e.value=re.Normal}}}});const Nt=f();w("data-v-5aea46a8");const Pt=g("img",{src:"https://xluoyu.github.io/image-riverbed/iphone/background/background.jpg",alt:"",class:"bg"},null,-1),Dt={class:"top"},Bt=g("span",null,"向上滑动解锁",-1),jt={class:"time-box"},$t={class:"tips"};b();const Ot=Nt(((o,n,s,l,p,r)=>{const c=e("van-icon"),u=e("NumberView"),i=e("SlideView");return t(),a("div",{class:"lock",onTouchstart:n[1]||(n[1]=(...e)=>o.touchStart&&o.touchStart(...e))},[Pt,o.lockStep==o.LockType.Normal?(t(),a("div",{key:0,class:"notice-container",style:`-webkit-backdrop-filter: blur(${o.curBlurNum}px);transition: all ${o.transition}s;transform: translateY(-${o.translateY}px);`},[g("div",Dt,[g(c,{name:"lock",color:"#fff"}),Bt]),g("div",jt,[g("h2",null,k(o.time),1),g("p",null,k(o.date),1),g("p",$t,k(o.tipsContent),1)])],4)):h("",!0),o.lockStep==o.LockType.Number?(t(),a(u,{key:1,onOpenLock:o.openLock,onCancel:o.cancel},null,8,["onOpenLock","onCancel"])):h("",!0),o.lockStep==o.LockType.Slide?(t(),a(i,{key:2,onOpenLock:o.openLock,onCancel:o.cancel},null,8,["onOpenLock","onCancel"])):h("",!0)],32)}));It.render=Ot,It.__scopeId="data-v-5aea46a8";var Ft=c({components:{App:Se},setup(){const{currentApp:e,changeCurrentApp:t}=Le();return{show:p((()=>Boolean(e))),currentApp:e,closeArray:()=>{t(null)}}}});const Ht=f();w("data-v-a3fab8d6");const Vt={class:"app-box"};b();const qt=Ht(((o,n,s,l,p,r)=>{const c=e("App");return o.show&&o.currentApp?(t(),a("div",{key:0,class:"app-array",onClick:n[2]||(n[2]=M(((...e)=>o.closeArray&&o.closeArray(...e)),["self"]))},[P(g("input",{type:"text","onUpdate:modelValue":n[1]||(n[1]=e=>o.currentApp.name=e),class:"box-title"},null,512),[[$,o.currentApp.name]]),g("div",Vt,[(t(!0),a(v,null,y(o.currentApp.children,(e=>(t(),a(c,{key:e.key,app:e},null,8,["app"])))),128))])])):h("",!0)}));Ft.render=qt,Ft.__scopeId="data-v-a3fab8d6";var zt=c({name:"App",components:{Home:He,Lock:It,AppArray:Ft,AppLayout:Ye},setup(){const{lockStatus:e}=me(),t=s(!1),a=I();return{routeStatus:p((()=>!(t.value||!a.matched.length)&&"home"!=a.name)),lockStatus:e,closeApp:()=>{t.value=!0,setTimeout((()=>{t.value=!1}),600)},beforeEnter:e=>{let t=a.matched[0].name||"",o=document.querySelector(`#${String(t)}`),{top:n,left:s,width:l,height:p}=o.getBoundingClientRect(),r=p/2+n,c=l/2+s;e.style.transformOrigin=`${c}px ${r}px`}}}});const Ut={class:"page"};zt.render=function(o,n,s,l,p,r){const c=e("Lock"),u=e("AppArray"),i=e("Home"),d=e("app-layout");return t(),a("div",Ut,[o.lockStatus?(t(),a(c,{key:0})):h("",!0),g(u),g(i),g(N,{name:"app",onBeforeEnter:o.beforeEnter},{default:O((()=>[P(g(d,{onCloseApp:o.closeApp},null,8,["onCloseApp"]),[[D,o.routeStatus]])])),_:1},8,["onBeforeEnter"])])};var Wt={install:e=>{e.use(F).use(H).use(V).use(j).use(q).use(z).use(i).use(r)}};U();const Yt=W(zt);Yt.use(te),Yt.use(Wt),Yt.mount("#app");export{re as I,tt as _,At as a,me as u};
