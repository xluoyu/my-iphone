var t=Object.defineProperty,e=Object.prototype.hasOwnProperty,a=Object.getOwnPropertySymbols,s=Object.prototype.propertyIsEnumerable,o=(e,a,s)=>a in e?t(e,a,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[a]=s,n=(t,n)=>{for(var i in n||(n={}))e.call(n,i)&&o(t,i,n[i]);if(a)for(var i of a(n))s.call(n,i)&&o(t,i,n[i]);return t};import{r as i,o as c,c as p,a as r,b as l,d as u,e as d,m as h,f as m,h as v,g,t as y,w as f,p as k,i as w,F as b,j as L,k as x,l as A,n as S,q as T,u as $,s as C,v as _,x as E,y as H,S as P,P as M,z as N,A as I,B as D,T as O,C as j,N as R,D as B,E as F,G as z,H as W,I as Q,J as q,K as U,L as V,M as Y,O as Z,Q as G,R as J,U as X}from"./vendor.f13bb865.js";let K;!function(t=".",e="__import__"){try{self[e]=new Function("u","return import(u)")}catch(a){const s=new URL(t,location),o=t=>{URL.revokeObjectURL(t.src),t.remove()};self[e]=t=>new Promise(((a,n)=>{const i=new URL(t,s);if(self[e].moduleMap[i])return a(self[e].moduleMap[i]);const c=new Blob([`import * as m from '${i}';`,`${e}.moduleMap['${i}']=m;`],{type:"text/javascript"}),p=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(c),onerror(){n(new Error(`Failed to import: ${t}`)),o(p)},onload(){a(self[e].moduleMap[i]),o(p)}});document.head.appendChild(p)})),self[e].moduleMap={}}}("/my-iphone/assets/");const tt={},et=function(t,e){if(!e)return t();if(void 0===K){const t=document.createElement("link").relList;K=t&&t.supports&&t.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(e.map((t=>{if(t in tt)return;tt[t]=!0;const e=t.endsWith(".css"),a=e?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${t}"]${a}`))return;const s=document.createElement("link");return s.rel=e?"stylesheet":K,e||(s.as="script",s.crossOrigin=""),s.href=t,document.head.appendChild(s),e?new Promise(((t,e)=>{s.addEventListener("load",t),s.addEventListener("error",e)})):void 0}))).then((()=>t()))},at={};at.render=function(t,e){const a=i("router-view");return c(),p(a)};const st=t=>document.body.clientWidth/375*t,ot=[{path:"",component:at,name:"home"},{path:"/alipay/*",component:at,name:"alipay",meta:{type:"app",style:"black"}},{path:"/music/:child*",component:at,name:"music",meta:{type:"app",style:"white"}},{path:"/calculator/:child*",component:at,name:"calculator",meta:{type:"app",style:"white"}},{path:"/settings",component:()=>et((()=>__import__("./layout.fd7a412a.js")),["/my-iphone/assets/layout.fd7a412a.js","/my-iphone/assets/layout.874931e7.css","/my-iphone/assets/vendor.f13bb865.js","/my-iphone/assets/vendor.d2a23fc6.css"]),name:"settings",redirect:"/settings/index",children:[{path:"index",component:()=>et((()=>__import__("./home.33aac54a.js")),["/my-iphone/assets/home.33aac54a.js","/my-iphone/assets/home.f7239b89.css","/my-iphone/assets/vendor.f13bb865.js","/my-iphone/assets/vendor.d2a23fc6.css"]),meta:{title:"设置",back:!1}},{path:"pwd",component:()=>et((()=>__import__("./pwd.dab31f1d.js")),["/my-iphone/assets/pwd.dab31f1d.js","/my-iphone/assets/vendor.f13bb865.js","/my-iphone/assets/vendor.d2a23fc6.css"]),name:"pwd",meta:{title:"安全设置",back:!0}},{path:"setPwd",component:()=>et((()=>__import__("./setPwd.11d3ab9c.js")),["/my-iphone/assets/setPwd.11d3ab9c.js","/my-iphone/assets/setPwd.c1a803ed.css","/my-iphone/assets/vendor.f13bb865.js","/my-iphone/assets/vendor.d2a23fc6.css"]),name:"setPwd",meta:{back:!0,style:"black"}}]}],nt=r({history:l("my-iphone"),routes:ot});var it,ct,pt,rt,lt,ut,dt,ht;nt.beforeEach(((t,e,a)=>{"home"==t.name&&e.name&&(console.log(t),console.log(history),history.pushState({back:e.path,current:location.pathname,forward:null,position:null,replaced:!1,scroll:null},"",location.pathname)),a()})),(ct=it||(it={})).App="App",ct.Weather="Weather",(rt=pt||(pt={})).defaultApp="defaultApp",rt.customApp="customApp",rt.clock="clock",rt.camera="camera",(ut=lt||(lt={})).white="#515151",ut.black="#fff",(ht=dt||(dt={})).Normal="normal",ht.Number="number",ht.Slide="slide";const mt={namespaced:!0,state:()=>({lockStatus:!1,lockType:dt.Number,lockNumberPwd:"147258"}),mutations:{changeLock(t,e){t.lockStatus=e},changeLockPwd(t,e){t.lockNumberPwd=e},changeLockType(t,e){t.lockType=e}}},vt=[{key:"alipay",type:it.App,photo:"https://imgsrc.baidu.com/forum/pic/item/203fb80e7bec54e78571908cb7389b504ec26a87.jpg",name:"支付宝",useType:pt.customApp,status:!0},{key:"weather",type:it.Weather,name:"天气",status:!0},{key:"settings",type:it.App,useType:pt.defaultApp,photo:"https://z3.ax1x.com/2021/05/06/gQZGRI.png",name:"设置",status:!0},{key:"safari",type:it.App,photo:"https://z3.ax1x.com/2021/05/06/gQZ8JA.png",name:"Safari 浏览器",useType:pt.defaultApp,status:!1},{key:"photos",type:it.App,photo:"https://z3.ax1x.com/2021/05/06/gQZ3id.png",name:"photos",useType:pt.defaultApp,status:!1},{key:"phone",type:it.App,photo:"https://z3.ax1x.com/2021/05/06/gQZlIH.png",name:"phone",useType:pt.defaultApp,status:!1},{key:"appStore",type:it.App,photo:"https://z3.ax1x.com/2021/05/06/gQZQde.png",name:"App Store",useType:pt.defaultApp,status:!1},{key:"music",type:it.App,photo:"https://z3.ax1x.com/2021/05/06/gQZMZD.png",name:"音乐",useType:pt.customApp,status:!0},{key:"camera",type:it.App,photo:"https://z3.ax1x.com/2021/05/06/gQZuqO.png",name:"camera",useType:pt.defaultApp,status:!0},{key:"calculator",type:it.App,photo:"https://z3.ax1x.com/2021/05/06/gQZnsK.png",name:"calculator",useType:pt.defaultApp,status:!1},{key:"messages",type:it.App,photo:"https://z3.ax1x.com/2021/05/06/gQZmM6.png",name:"messages",useType:pt.defaultApp,status:!1},{key:"clock",type:it.App,photo:"https://z3.ax1x.com/2021/05/06/glUSTH.png",name:"锁屏",useType:pt.defaultApp,status:!0}],gt=u({state:()=>({closeBeforeFn:null,appDragStatus:!1,routerHistory:{}}),mutations:{changeCloseBeforeFn(t,e){t.closeBeforeFn=e},changeAppDragStatus(t,e){t.appDragStatus=e},changeRouterHistory(t,e){var a,s,o;let n=t.routerHistory[e.appName];switch(e.type){case"add":if(t.routerHistory[e.appName]){let n=null==(a=t.routerHistory[e.appName])?void 0:a.indexOf(e.value);n&&-1!=n?t.routerHistory[e.appName]=null==(s=t.routerHistory[e.appName])?void 0:s.slice(0,n+1):null==(o=t.routerHistory[e.appName])||o.push(e.value)}else t.routerHistory[e.appName]=[e.value];break;case"remove":n=void 0;break;case"replace":t.routerHistory[e.appName]=[e.value],console.log(t.routerHistory[e.appName]);break;default:null==n||n.push(e.value)}}},actions:{onCloseBrofreFn:async t=>!t.state.closeBeforeFn||await t.state.closeBeforeFn()},modules:{LockStore:mt,AppStore:{namespaced:!0,state:()=>({myAppIds:["weather","appStore","photos","music","camera","calculator","clock","alipay"]}),getters:{myAppList:t=>t.myAppIds.map((t=>vt.find((e=>e.key==t))))},mutations:{removeApp(t,e){let a=t.myAppIds.indexOf(e);t.myAppIds.splice(a,1)}}}}});var yt=d({props:{app:{type:Object,default:()=>({})}},computed:n({},h({appDragStatus:t=>t.appDragStatus})),methods:{async open(){if(this.appDragStatus)return;if(!this.app.status)return void this.$toast("这个还没写/(ㄒoㄒ)/~~");let t=this.app.key;switch(this.app.useType){case pt.clock:this.$store.commit("LockStore/changeLock",!0);break;case pt.camera:this.openCamera();break;default:this.app.useType==pt.customApp&&await this.getCustomApp();let e=this.$store.state.routerHistory[t]?[...this.$store.state.routerHistory[t]]:[];e&&e.length?e.forEach((t=>{requestAnimationFrame((()=>{this.$router.push(t)}))})):this.$router.push({name:t})}},openCamera(){let t=document.createElement("input");t.setAttribute("type","file"),t.setAttribute("accept","image/*"),t.setAttribute("capture","environment"),t.addEventListener("change",(()=>{const e=new FileReader;let a=t.files?t.files[0]:null;a&&(e.readAsDataURL(a),e.onload=e=>{document.body.removeChild(t),this.$dialog.confirm({title:"图片预览",message:()=>{var t;return v("img",{src:null==(t=null==e?void 0:e.target)?void 0:t.result,style:{width:"100%"}})},confirmButtonText:"保存",cancelButtonText:"取消"}).then((()=>{console.log("确定"),this.$toast.success("保存成功")})).catch((()=>{console.log("关闭")}))})})),document.body.append(t),t.click()},getCustomApp(){return new Promise((t=>{m([{name:this.app.key,entry:"http://192.168.0.184:1921",container:"#routerView",activeRule:"my-iphone"+this.app.key,props:{slogan:"Hello Qiankun",baseRoute:"my-iphone"}}]),t()}))}}});const ft=f()(((t,e,a,s,o,n)=>(c(),p("div",{class:"app",id:t.app.key,onClick:e[1]||(e[1]=(...e)=>t.open&&t.open(...e))},[g("img",{src:t.app.photo,alt:""},null,8,["src"]),g("p",null,y(t.app.name),1)],8,["id"]))));yt.render=ft,yt.__scopeId="data-v-99943a98";var kt=d({components:{App:yt},setup:()=>({appList:["phone","messages","safari","settings"].map((t=>vt.find((e=>e.key==t))))})});const wt=f();k("data-v-5480dd67");const bt={class:"dock"};w();const Lt=wt(((t,e,a,s,o,n)=>{const r=i("App");return c(),p("div",bt,[(c(!0),p(b,null,L(t.appList,(t=>(c(),p(r,{key:t.key,app:t},null,8,["app"])))),128))])}));kt.render=Lt,kt.__scopeId="data-v-5480dd67";let xt=0;var At=d({props:{app:{type:Object,default:()=>({})}},computed:n({},h({appDragStatus:t=>t.appDragStatus})),methods:{clearApp(){this.$dialog.confirm({message:`确定要卸载${this.app.name}吗？`}).then((()=>{console.log("开始卸载"),this.$store.commit("AppStore/removeApp",this.app.key)}))},longTap(){this.$store.commit("changeAppDragStatus",!0)},gotouchstart(){clearTimeout(xt),xt=window.setTimeout((()=>{xt=0,this.longTap()}),600)},gotouchend(){clearTimeout(xt)}}});const St=f()(((t,e,a,s,o,n)=>{const r=i("van-icon");return c(),p("div",{class:`app-box ${t.appDragStatus?"shake":""} `,onTouchstart:e[1]||(e[1]=(...e)=>t.gotouchstart&&t.gotouchstart(...e)),onTouchend:e[2]||(e[2]=(...e)=>t.gotouchend&&t.gotouchend(...e))},[t.appDragStatus?(c(),p(r,{key:0,name:"clear",class:"close",onTouchend:t.clearApp},null,8,["onTouchend"])):x("",!0),A(t.$slots,"default",{},void 0,!0)],34)}));At.render=St,At.__scopeId="data-v-98bcf012";var Tt=d({setup(){let t=document.getElementsByTagName("html")[0];getComputedStyle(t).getPropertyValue("--appHeight"),S((()=>{window.WIDGET={CONFIG:{layout:"1",width:"337",height:"152",background:"1",dataColor:"FFFFFF",modules:"10",borderRadius:"14",key:"bd944729128a411586b094b8ad992a74"}},((t,e)=>{const a=document.createElement("script");a.type="text/javascript",a.src=t,document.body.appendChild(a),a.onload=e||{}})("https://widget.qweather.net/standard/static/js/he-standard-common.js?v=2.0",(()=>{T((()=>{let t=document.querySelector("#he-plugin-standard");t&&(t.style.width="100%")}))}))}))},methods:{navTo(){window.open("https://widget-page.qweather.net/h5/index.html?md=0123456&bg=1&lc=accu&key=6ccfdfa816e341a895dfe493d5d1f585&demo=true&v=_1619672129584")}}});const $t=f();k("data-v-623c473a");const Ct={class:"weather"},_t=g("div",{id:"he-plugin-standard"},null,-1),Et=g("p",null,"天气",-1);w();const Ht=$t(((t,e,a,s,o,n)=>(c(),p("div",Ct,[_t,Et]))));Tt.render=Ht,Tt.__scopeId="data-v-623c473a";P.use([M]);const Pt=f();k("data-v-d218c538");const Mt={class:"swiper-container my-swipe"},Nt={class:"swiper-wrapper"},It=g("div",{class:"swiper-pagination"},null,-1);w();var Dt=d({expose:[],setup(t){const{appsList:e}=(()=>{const t=$(),e=C((()=>t.getters["AppStore/myAppList"])),a=_([[]]),s=()=>{const t=document.querySelector(".grid-box");if(!t)return;const s=(null==t?void 0:t.clientHeight)||0;let o=Math.floor(s/st(92));s-o*st(92)>=st(84)&&(o+=1);let n=0,i=0;a.value=[[]],e.value.forEach(((t,s)=>{switch(t.type){case it.App:i+=1,t.component=H(yt);break;case it.Weather:let e=Math.ceil(i/4);i+=8,t.component=H(Tt),t.style=`grid-column-start: 1;grid-column-end: 5;grid-row-start: ${e+1};grid-row-end: ${e+3};`;break;default:i+=1,t.component=H(yt)}a.value[n].push(t),(i>=4*o||s==e.value.length-1)&&(i=0,s!=e.value.length-1&&(a.value.push([]),n+=1))}))};return E(t.state.AppStore.myAppIds,(()=>{console.log("监听到改变"),s()})),S((()=>{window.addEventListener("resize",(()=>{s()})),s()})),{appsList:a}})(),{containerBgX:a,containerBgDuration:s,swiperMain:o}=(()=>{const t=_(0),e=_(0);let a=_(null);return S((()=>{T((()=>{a.value=new P(".my-swipe",{pagination:{el:".swiper-pagination"},loop:!1,watchSlidesProgress:!0,on:{progress:(a,s)=>{let o=Number((50*s).toFixed(2));Math.abs(o-t.value)>20?e.value=.3:e.value=0,t.value=o}}})}))})),{containerBgX:t,containerBgDuration:e,swiperMain:a}})();E(e,(()=>{T((()=>{var t;null==(t=o.value)||t.update()}))}));const n=$(),i=C((()=>n.state.appDragStatus)),r=()=>{0!=i.value&&n.commit("changeAppDragStatus",!1)};return(t,o)=>(c(),p("div",{class:"container",style:`background-position-x: ${N(a)}%;transition: background ${N(s)}s;`},[N(i)?(c(),p("div",{key:0,class:"closeHandle",onClick:r},"完成")):x("",!0),g("div",Mt,[g("div",Nt,[(c(!0),p(b,null,L(N(e),((t,e)=>(c(),p("div",{class:"swiper-slide",key:e},[g("div",{class:"grid-box",onClick:I(r,["self"])},[(c(!0),p(b,null,L(t,(t=>(c(),p(At,{key:t.key,style:t.style,app:t},{default:Pt((()=>[(c(),p(D(t.component),{app:t},null,8,["app"]))])),_:2},1032,["style","app"])))),128))],8,["onClick"])])))),128))]),It]),g(kt)],4))}});Dt.__scopeId="data-v-d218c538";var Ot=d({emits:["closeApp"],data:()=>({fade:!0}),computed:{color(){var t;return lt[(null==(t=this.$route.meta)?void 0:t.style)||"white"]}},watch:{"$route.path"(){"home"!=this.$route.name&&this.$route.matched.length&&this.$store.commit("changeRouterHistory",{type:"add",appName:this.$route.matched[0].name,value:this.$route.fullPath})}},methods:{async closeApp(){await gt.dispatch("onCloseBrofreFn")&&(this.fade=!1,this.$emit("closeApp"),setTimeout((()=>{this.$router.push({name:"home"}),this.fade=!0}),500))},async sleep(){setTimeout((()=>{}),300)}}});const jt=f();k("data-v-c8fc07b0");const Rt={class:"app-layout",ref:"appBox"},Bt={t:"1620283141610",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2038",width:"200",height:"200"},Ft=g("div",{id:"routerView"},"系统加载中...",-1);w();const zt=jt(((t,e,a,s,o,n)=>{const r=i("router-view");return c(),p("div",Rt,[g("div",{class:"close",onClick:e[1]||(e[1]=(...e)=>t.closeApp&&t.closeApp(...e))},[(c(),p("svg",Bt,[g("path",{d:"M512 0C228.96 0 0 228.96 0 512c0 283.04 228.96 512 512 512 283.04 0 512-228.96 512-512C1024 228.96 795.04 0 512 0z m0 903.52c-216.8 0-391.52-174.72-391.52-391.52 0-216.8 174.72-391.52 391.52-391.52 216.8 0 391.52 174.72 391.52 391.52 0 216.8-174.72 391.52-391.52 391.52z",fill:t.color,"p-id":"2039"},null,8,["fill"]),g("path",{d:"M316.16 512c0 108.16 87.68 195.84 195.84 195.84S707.84 620.16 707.84 512 620.16 316.16 512 316.16 316.16 403.84 316.16 512z m0 0",fill:t.color,"p-id":"2040"},null,8,["fill"])]))]),t.$route.meta&&"app"==t.$route.meta.type?x("",!0):(c(),p(r,{key:0},{default:jt((({Component:t})=>[g(O,{name:"fade"},{default:jt((()=>[(c(),p(D(t),{ref:"component"},null,512))])),_:2},1024)])),_:1})),g(O,{name:"fade"},{default:jt((()=>[Ft])),_:1})],512)}));Ot.render=zt,Ot.__scopeId="data-v-c8fc07b0";const Wt=j.create({baseURL:"/",timeout:1e4});Wt.interceptors.request.use((t=>(t.headers["Content-Type"]="application/x-www-form-urlencoded","post"===t.method&&t.data?(t.data=JSON.stringify(t.data),t.headers["Content-Type"]="application/json",t):t)),(t=>(console.log(t),Promise.reject(t)))),Wt.interceptors.response.use((t=>t.data),(t=>(console.log("err"+t),R(t.message),Promise.reject(t))));var Qt=d({props:{password:{type:String,default:""}},emits:["callback","close"],data:()=>({keys:[1,2,3,4,5,6,7,8,9],inputList:[],dance:!1}),methods:{ketDown(t){this.inputList.length>=6||(this.inputList.push(t),6==this.inputList.length&&this.verification())},verification(){let t=this.inputList.join("");this.password&&this.password!=t?(this.dance=!0,setTimeout((()=>{this.dance=!1,this.inputList=[],this.$emit("callback",t,!1)}),500)):(this.inputList=[],this.$emit("callback",t,!0))},cancel(){this.$emit("close")},remove(){this.inputList.pop()}}});const qt=f();k("data-v-18e3a952");const Ut={class:"keyboard"},Vt=g("div",{class:"btn empty"},null,-1),Yt=g("div",{class:"btn empty"},null,-1),Zt={class:"handle"},Gt=g("div",null,null,-1);w();const Jt=qt(((t,e,a,s,o,n)=>(c(),p("div",null,[g("div",{class:{input:!0,dance:t.dance}},[(c(),p(b,null,L(6,(e=>g("div",{class:{garden:!0,fill:t.inputList.length>=e},key:e},null,2))),64))],2),g("div",Ut,[(c(!0),p(b,null,L(t.keys,(e=>(c(),p("div",{class:"btn",key:e,onTouchend:a=>t.ketDown(e)},y(e),41,["onTouchend"])))),128)),Vt,g("div",{class:"btn",onTouchend:e[1]||(e[1]=e=>t.ketDown(0))},"0",32),Yt]),g("div",Zt,[A(t.$slots,"default",{},(()=>[Gt]),{}),B(g("div",{onClick:e[2]||(e[2]=(...e)=>t.remove&&t.remove(...e))},"删除",512),[[F,t.inputList.length]]),B(g("div",{onClick:e[3]||(e[3]=(...e)=>t.cancel&&t.cancel(...e))},"取消",512),[[F,!t.inputList.length]])])]))));Qt.render=Jt,Qt.__scopeId="data-v-18e3a952";var Xt=d({components:{numberLock:Qt},emits:["openLock","cancel"],setup(){const t=$();return{password:C((()=>t.state.LockStore.lockNumberPwd))}},methods:{op(){this.$emit("openLock")},cancel(){this.$emit("cancel")},lockCallback(t,e){e&&this.$emit("openLock")}}});const Kt=f();k("data-v-5badb467");const te={class:"container"},ee=g("div",{class:"top"},"输入密码",-1);w();const ae=Kt(((t,e,a,s,o,n)=>{const r=i("numberLock");return c(),p("div",te,[ee,g(r,{password:t.password,onCallback:t.lockCallback,onClose:t.cancel},{default:Kt((()=>[g("div",{onClick:e[1]||(e[1]=(...e)=>t.op&&t.op(...e))},"紧急操作")])),_:1},8,["password","onCallback","onClose"])])}));Xt.render=ae,Xt.__scopeId="data-v-5badb467";const se=80,oe="#fff",ne="#27ae60",ie="#c0392b",ce=10,pe=30,re=30;var le=d({props:{password:{type:String,default:""}},emits:["callback"],data:()=>({canvasWidth:0,canvasHeight:0,canvasLeft:0,canvasTop:0,pointList:[],moveArr:[]}),mounted(){this.init()},methods:{init(){const t=this.$refs.lockCanvas;if(!t)return;const e=t.getContext("2d");if(this.ctx=e,this.canvasWidth=t.width,this.canvasHeight=t.height,this.canvasLeft=t.offsetLeft,this.canvasTop=t.offsetTop,this.pointList=[],9!=this.pointList.length)for(let a=0;a<9;a++){let{x:t,y:e}=this.getPointAxes(a),s={x:t,y:e,status:!1,value:a};this.pointList.push(s)}this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.pointList.forEach((t=>{this.createPoint(t)}))},createPoint(t,e=!0){let a=oe;t.status&&(a=e?ne:ie),this.ctx.beginPath(),this.ctx.arc(t.x,t.y,se/2-1,0,2*Math.PI,!0),this.ctx.strokeStyle=a,this.ctx.lineWidth=1,this.ctx.stroke(),this.ctx.beginPath(),this.ctx.arc(t.x,t.y,ce/2,0,2*Math.PI,!0),this.ctx.fillStyle=a,this.ctx.fill()},getPointAxes:t=>({x:se*(t%3)+pe*(t%3)+se/2,y:se*Math.floor(t/3)+re*Math.floor(t/3)+se/2}),drawLine(t,e,a,s=!0){this.ctx.clearRect(0,0,this.canvasWidth,this.canvasHeight),this.ctx.save(),this.ctx.beginPath(),this.ctx.strokeStyle=s?ne:ie,this.ctx.lineWidth=6,this.ctx.lineJoin="round",this.ctx.lineCap="round",this.moveArr.forEach(((t,e)=>{0==e?this.ctx.moveTo(this.pointList[t-1].x,this.pointList[t-1].y):this.ctx.lineTo(this.pointList[t-1].x,this.pointList[t-1].y)})),a&&this.moveArr.length&&this.ctx.lineTo(t,e),this.ctx.stroke(),this.ctx.restore(),this.pointList.forEach((a=>{this.isInCircle(t,e,a)&&!a.status&&(this.moveArr.push(a.value+1),a.status=!0),this.createPoint(a,s)}))},isInCircle:(t,e,a)=>Math.sqrt(Math.pow(a.x-t,2)+Math.pow(a.y-e,2))<=se/2,canvasMoveStart(t){let{pageX:e,pageY:a}=t.targetTouches[0];e-=this.canvasLeft,a-=this.canvasTop,this.drawLine(e,a,!0)},canvasMove(t){let{pageX:e,pageY:a}=t.targetTouches[0];e-=this.canvasLeft,a-=this.canvasTop,this.drawLine(e,a,!0)},canvasMoveEnd(){let t=this.moveArr.join(""),e=!this.password||t==this.password;this.drawLine(0,0,!1,e),this.$emit("callback",t,e),this.moveArr=[],setTimeout((()=>{this.init()}),300)}}});const ue=f()(((t,e,a,s,o,n)=>(c(),p("canvas",{class:"lock-canvas",ref:"lockCanvas",width:"300",height:"300",onTouchstart:e[1]||(e[1]=(...e)=>t.canvasMoveStart&&t.canvasMoveStart(...e)),onTouchmove:e[2]||(e[2]=(...e)=>t.canvasMove&&t.canvasMove(...e)),onTouchend:e[3]||(e[3]=(...e)=>t.canvasMoveEnd&&t.canvasMoveEnd(...e))},null,544))));le.render=ue,le.__scopeId="data-v-fa1f6186";var de=d({components:{SlideLock:le},emits:["openLock","cancel"],computed:n({},h("LockStore",{password:t=>t.lockNumberPwd})),methods:{lockCb(t,e){e&&this.op()},op(){this.$emit("openLock")},cancel(){this.$emit("cancel")}}});const he=f();k("data-v-7f725f72");const me={class:"container"},ve=g("div",{class:"top"},"手势解锁",-1),ge={class:"handle"};w();const ye=he(((t,e,a,s,o,n)=>{const r=i("SlideLock");return c(),p("div",me,[ve,g(r,{password:t.password,onCallback:t.lockCb},null,8,["password","onCallback"]),g("div",ge,[g("div",{onClick:e[1]||(e[1]=(...e)=>t.op&&t.op(...e))},"紧急操作"),g("div",{onClick:e[2]||(e[2]=(...e)=>t.cancel&&t.cancel(...e))},"取消")])])}));de.render=ye,de.__scopeId="data-v-7f725f72";const fe=["日","一","二","三","四","五","六"];var ke=d({components:{NumberView:Xt,SlideView:de},setup(){let t=_(""),e=_(""),a=()=>{let a=new Date,s=a.getMonth()+1,o=a.getDate(),n=a.getHours();n=n<10?"0"+n:n;let i=a.getMinutes();i=i<10?"0"+i:i;let c=a.getDay();t.value=n+":"+i,e.value=s+"月"+o+"日 周"+fe[c]};return a(),setTimeout(a,1e3),{time:t,date:e}},data:()=>({tipsContent:"",diffY:0,windowHeight:667,blurNum:0,transition:0,lockStep:dt.Normal}),computed:{LockType:()=>dt},mounted(){this.getHitokoto(),this.windowHeight=window.innerHeight},methods:{getHitokoto(){Wt({url:"https://v1.hitokoto.cn/",method:"get"}).then((t=>{this.tipsContent=t.hitokoto}))},touchstart(t){let e=t.touches[0].pageY,a=0,s=0,o=t=>{this.transition=0;let o=t.touches[0].pageY;a=e-o,s=Math.floor(a/(.8*this.windowHeight)*100)/10,this.blurNum=Math.max(0,s),this.diffY=Math.max(0,a)},n=()=>{this.transition=.3,a=a>.2*this.windowHeight?this.windowHeight:0,this.diffY=a,this.blurNum=a?1:0,this.diffY&&setTimeout((()=>{this.$store.state.lockType==dt.Normal?this.$store.commit("LockStore/changeLock",!1):this.lockStep=this.$store.state.LockStore.lockType}),100),document.removeEventListener("touchmove",o),document.removeEventListener("touchend",n)};document.addEventListener("touchmove",o),document.addEventListener("touchend",n)},openLock(){setTimeout((()=>{this.$store.commit("LockStore/changeLock",!1),this.lockStep=dt.Normal}),100)},cancel(){this.lockStep=dt.Normal}}});const we=f();k("data-v-7e39af46");const be=g("img",{src:"https://z3.ax1x.com/2021/04/28/gPPUFx.jpg",alt:"",class:"bg"},null,-1),Le={class:"top"},xe=g("span",null,"向上滑动解锁",-1),Ae={class:"time-box"},Se={class:"tips"};w();const Te=we(((t,e,a,s,o,n)=>{const r=i("van-icon"),l=i("NumberView"),u=i("SlideView");return c(),p("div",{class:"lock",onTouchstart:e[1]||(e[1]=(...e)=>t.touchstart&&t.touchstart(...e))},[be,t.lockStep==t.LockType.Normal?(c(),p("div",{key:0,class:"notice-container",style:`-webkit-backdrop-filter: blur(${t.blurNum}px);transition: all ${t.transition}s;transform: translateY(-${t.diffY}px);`},[g("div",Le,[g(r,{name:"lock",color:"#fff"}),xe]),g("div",Ae,[g("h2",null,y(t.time),1),g("p",null,y(t.date),1),g("p",Se,y(t.tipsContent),1)])],4)):x("",!0),t.lockStep==t.LockType.Number?(c(),p(l,{key:1,onOpenLock:t.openLock,onCancel:t.cancel},null,8,["onOpenLock","onCancel"])):x("",!0),t.lockStep==t.LockType.Slide?(c(),p(u,{key:2,onOpenLock:t.openLock,onCancel:t.cancel},null,8,["onOpenLock","onCancel"])):x("",!0)],32)}));ke.render=Te,ke.__scopeId="data-v-7e39af46";var $e=d({name:"App",components:{Home:Dt,Lock:ke,AppLayout:Ot},setup(){const t=$(),e=_(!1);return{closeApp:()=>{e.value=!0,setTimeout((()=>{e.value=!1}),600)},routeStatus:C((()=>{const t=z();return!(e.value||!t.matched.length)&&"home"!=t.name})),lockStatus:C((()=>t.state.LockStore.lockStatus))}},methods:{beforeEnter(t){let e=(a=":export {\n  appHeight: 84;\n  appWidth: 70;\n  appPhotoHeight: 60;\n  appNameHeight: 24;\n  gridRowGap: 8;\n}\n",t=>{let e=new RegExp(`${t}: [^;]+`,"g"),s=a.match(e).toString().split(": ");return Number(s[1])});var a;let s=this.$route.matched[0].name||"";if(!s)return;let o=document.querySelector(`#${String(s)}`);if(!o)return;let n=e("appHeight")/2+o.getBoundingClientRect().top,i=e("appWidth")/2+o.getBoundingClientRect().left;t.style.transformOrigin=`${i}px ${n}px`}}});const Ce={class:"page"};$e.render=function(t,e,a,s,o,n){const r=i("Lock"),l=i("Home"),u=i("app-layout");return c(),p("div",Ce,[t.lockStatus?(c(),p(r,{key:0})):x("",!0),g(l),g(O,{name:"app",onBeforeEnter:t.beforeEnter},{default:W((()=>[B(g(u,{onCloseApp:t.closeApp},null,8,["onCloseApp"]),[[F,t.routeStatus]])])),_:1},8,["onBeforeEnter"])])};var _e={install:t=>{t.use(Q).use(q).use(U).use(R).use(V).use(Y).use(Z).use(G)}};J();const Ee=X($e);Ee.use(nt),Ee.use(gt),Ee.use(_e),Ee.mount("#app");export{dt as I,Qt as _,le as a};
