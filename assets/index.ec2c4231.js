import{r as e,o as t,c as n,a as o,b as a,d as r,e as i,f as l,D as s,g as c,u,T as p,h as d,i as h,j as m,F as f,k as v,l as g,t as y,w as b,p as w,m as k,n as _,q as E,s as A,v as S,x as T,S as D,P as C,y as x,z as O,A as M,B as L,C as I,E as N,G as P,N as R,H as B,I as j,J as X,K as Y,L as F,M as H,O as W,Q as $,R as z}from"./vendor.cb05010f.js";let V;!function(e=".",t="__import__"){try{self[t]=new Function("u","return import(u)")}catch(n){const o=new URL(e,location),a=e=>{URL.revokeObjectURL(e.src),e.remove()};self[t]=e=>new Promise(((n,r)=>{const i=new URL(e,o);if(self[t].moduleMap[i])return n(self[t].moduleMap[i]);const l=new Blob([`import * as m from '${i}';`,`${t}.moduleMap['${i}']=m;`],{type:"text/javascript"}),s=Object.assign(document.createElement("script"),{type:"module",src:URL.createObjectURL(l),onerror(){r(new Error(`Failed to import: ${e}`)),a(s)},onload(){n(self[t].moduleMap[i]),a(s)}});document.head.appendChild(s)})),self[t].moduleMap={}}}("assets/");const q={},U=function(e,t){if(!t)return e();if(void 0===V){const e=document.createElement("link").relList;V=e&&e.supports&&e.supports("modulepreload")?"modulepreload":"preload"}return Promise.all(t.map((e=>{if(e in q)return;q[e]=!0;const t=e.endsWith(".css"),n=t?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${e}"]${n}`))return;const o=document.createElement("link");return o.rel=t?"stylesheet":V,t||(o.as="script",o.crossOrigin=""),o.href=e,document.head.appendChild(o),t?new Promise(((e,t)=>{o.addEventListener("load",e),o.addEventListener("error",t)})):void 0}))).then((()=>e()))},G={};G.render=function(o,a){const r=e("router-view");return t(),n(r)};const K=e=>(e=(e=e.replace("px","")).replace("rem",""),Number(e)),J=e=>{let t=getComputedStyle(document.documentElement).getPropertyValue(e);return t=t.replace("rem",""),t=t.replace("px",""),Number(t)*(()=>{let e=document.documentElement.style.fontSize;return e=K(e)||1,e})()},Q=(e,t)=>{let n=0;return(...o)=>{n||(n=window.setTimeout((()=>{e(...o),clearTimeout(n),n=0}),t))}},Z=[{path:"",component:G,name:"home"},{path:"/alipay/:child*",component:G,name:"alipay",meta:{type:"app",style:"black"}},{path:"/music/:child*",component:()=>U((()=>__import__("./index.6a52cc20.js")),["./assets/index.6a52cc20.js","./assets/vendor.cb05010f.js","./assets/vendor.ef8eb434.css"]),name:"music",meta:{style:"white"}},{path:"/calculator/:child*",component:G,name:"calculator",meta:{type:"app",style:"white"}},{path:"/settings",component:()=>U((()=>__import__("./layout.f2421f0c.js")),["./assets/layout.f2421f0c.js","./assets/layout.c7f753f2.css","./assets/vendor.cb05010f.js","./assets/vendor.ef8eb434.css"]),name:"settings",redirect:"/settings/index",children:[{path:"index",component:()=>U((()=>__import__("./home.535aae3e.js")),["./assets/home.535aae3e.js","./assets/home.6b810558.css","./assets/vendor.cb05010f.js","./assets/vendor.ef8eb434.css"]),meta:{title:"设置",back:!1}},{path:"pwd",component:()=>U((()=>__import__("./pwd.dacbf49e.js")),["./assets/pwd.dacbf49e.js","./assets/vendor.cb05010f.js","./assets/vendor.ef8eb434.css"]),name:"pwd",meta:{title:"安全设置",back:!0}},{path:"setPwd",component:()=>U((()=>__import__("./setPwd.73c08c96.js")),["./assets/setPwd.73c08c96.js","./assets/setPwd.219aa45d.css","./assets/vendor.cb05010f.js","./assets/vendor.ef8eb434.css"]),name:"setPwd",meta:{back:!0,style:"black"}},{path:"about",component:()=>U((()=>__import__("./about.12609114.js")),["./assets/about.12609114.js","./assets/vendor.cb05010f.js","./assets/vendor.ef8eb434.css"]),name:"about",meta:{title:"关于本机",back:!0}}]},{path:"/safari",component:()=>U((()=>__import__("./index.14b92038.js")),["./assets/index.14b92038.js","./assets/index.174308ad.css","./assets/vendor.cb05010f.js","./assets/vendor.ef8eb434.css"]),name:"safari"},{path:"/phone",component:()=>U((()=>__import__("./index.0e5674ed.js")),["./assets/index.0e5674ed.js","./assets/index.0dd57781.css","./assets/vendor.cb05010f.js","./assets/vendor.ef8eb434.css"]),name:"phone",redirect:"/phone/call",children:[{path:"call",component:()=>U((()=>__import__("./call.6fcdfd6a.js")),["./assets/call.6fcdfd6a.js","./assets/call.e938bb5f.css","./assets/vendor.cb05010f.js","./assets/vendor.ef8eb434.css"])},{path:"address",component:()=>U((()=>__import__("./addressList.0315f1da.js")),["./assets/addressList.0315f1da.js","./assets/addressList.f84a694c.css","./assets/vendor.cb05010f.js","./assets/vendor.ef8eb434.css"])},{path:"recent",component:()=>U((()=>__import__("./recentCalls.0a7530c5.js")),["./assets/recentCalls.0a7530c5.js","./assets/addressList.f84a694c.css","./assets/vendor.cb05010f.js","./assets/vendor.ef8eb434.css"])}]}],ee=o({history:a("/"),routes:Z});var te,ne,oe,ae,re,ie,le,se;ee.beforeEach(((e,t,n)=>{"home"==e.name&&t.name&&history.pushState({back:t.path,current:"/",forward:null,position:null,replaced:!1,scroll:null},"","/"),n()})),(ne=te||(te={})).App="App",ne.Weather="Weather",ne.AppArray="AppArray",(ae=oe||(oe={})).defaultApp="defaultApp",ae.customApp="customApp",ae.clock="clock",ae.camera="camera",ae.full="fullScreen",(ie=re||(re={})).white="#515151",ie.black="#fff",(se=le||(le={})).Normal="normal",se.Number="number",se.Slide="slide",console.log("useLock");const ce=r(!1),ue=r(le.Normal),pe=r(""),de=()=>({lockStatus:ce,lockType:ue,lockPwd:pe,changeLockState:e=>{ce.value="boolean"==typeof e?e:!ce.value},setLockPwd:e=>{pe.value=e},setLockType:e=>{ue.value=e}}),he=r(!1);let me=0;const fe=()=>{const e=()=>{he.value=!he.value};let t=!1;const n=()=>{t=!0,e()};return{dragStatus:he,changeDragStatus:e,gotouchstart:e=>{he.value||e.stopPropagation(),he.value||(clearTimeout(me),me=window.setTimeout((()=>{me=0,n()}),600))},gotouchend:()=>{clearTimeout(me),t&&(t=!1)}}},ve=[{key:"alipay",type:te.App,photo:"https://xluoyu.github.io/image-riverbed/iphone/alipay.png",name:"支付宝",useType:oe.customApp,status:!0,pageUrl:"https://xluoyu.github.io/clound-music/"},{key:"weather",type:te.Weather,name:"天气",status:!0},{key:"settings",type:te.App,useType:oe.defaultApp,photo:"https://xluoyu.github.io/image-riverbed/iphone/settings.png",name:"设置",status:!0},{key:"safari",type:te.App,photo:"https://xluoyu.github.io/image-riverbed/iphone/safari.png",name:"Safari 浏览器",useType:oe.defaultApp,status:!0},{key:"photos",type:te.App,photo:"https://xluoyu.github.io/image-riverbed/iphone/photos.png",name:"图库",useType:oe.defaultApp,status:!1},{key:"phone",type:te.App,photo:"https://xluoyu.github.io/image-riverbed/iphone/phone.png",name:"phone",useType:oe.defaultApp,status:!0},{key:"appStore",type:te.App,photo:"https://xluoyu.github.io/image-riverbed/iphone/appStore.png",name:"App Store",useType:oe.defaultApp,status:!1},{key:"music",type:te.App,photo:"https://xluoyu.github.io/image-riverbed/iphone/music.png",name:"音乐",useType:oe.customApp,status:!0},{key:"camera",type:te.App,photo:"https://xluoyu.github.io/image-riverbed/iphone/camera.png",name:"相机",useType:oe.camera,status:!0},{key:"fullScreen",type:te.App,photo:"https://xluoyu.github.io/image-riverbed/iphone/arrow.png",name:"全屏",useType:oe.full,status:!0},{key:"calculator",type:te.App,photo:"https://xluoyu.github.io/image-riverbed/iphone/calculator.png",name:"计算器",useType:oe.defaultApp,status:!1},{key:"messages",type:te.App,photo:"https://xluoyu.github.io/image-riverbed/iphone/messages.png",name:"messages",useType:oe.defaultApp,status:!1},{key:"clock",type:te.App,photo:"https://xluoyu.github.io/image-riverbed/iphone/clock.png",name:"锁屏",useType:oe.clock,status:!0}],ge=r([{key:"weather",type:te.Weather},{key:"appStore",type:te.App},{key:"photos",type:te.App},{key:"camera",type:te.App},{name:"工具组",key:"appArray5256165",type:te.AppArray,children:[{key:"music",type:te.App},{key:"calculator",type:te.App},{key:"alipay",type:te.App}]},{key:"clock",type:te.App},{key:"fullScreen",type:te.App}]),ye=()=>{const e=l((()=>t(ge.value))),t=(e,n)=>e.reduce(((e,o)=>{if(o.type!=te.AppArray){let t=ve.find((e=>e.key==o.key));n&&(t.parent=n),e.push(t)}else e.push({name:o.name,type:o.type,key:o.key,children:o.children?t(o.children,o.key):[]});return e}),[]);return{localApp:ge,myApplist:e,clearApp:e=>{s.confirm({message:`确定要卸载${e.name}吗？`}).then((()=>{(e=>{let t=e.key,n=e.parent,o=n?ge.value.find((e=>e.key==n)).children:ge.value,a=o.findIndex((e=>e.key==t));o.splice(a,1)})(e)})).catch()},updateAppList:e=>{const t=(e,n)=>e.map((e=>{if("string"==typeof e){let t=n?n.find((t=>t.key==e)):ge.value.find((t=>t.key==e));if(!t){let n=ve.find((t=>t.key==e));t={key:n.key,type:n.type}}return t}{let n=ge.value.find((t=>t.key==e.key));return n?n.children=t(e.children,n.children):n={name:"工具组",type:te.AppArray,key:e.key,children:t(e.children)},n}}))||[];let n=t(e);console.log(n),ge.value=n},composeApps:(e,t)=>{var n;let o=ge.value,a=o.find((t=>t.key==e)),r=o.find((e=>e.key==t));if(a.type==te.App){let e={name:"工具组",type:te.AppArray,key:"appArray"+(new Date).getTime(),children:[a,r]};o.splice(o.indexOf(a),1,e),o.splice(o.indexOf(r),1)}else a.type==te.AppArray&&(null==(n=a.children)||n.push(r),o.splice(o.indexOf(r),1));ge.value=o},findAppArrayChildren:e=>{var t,n;return null==(n=null==(t=ge.value.find((t=>t.key==e)))?void 0:t.children)?void 0:n.map((e=>e.key))}}},be=i({}),we=()=>({appHistory:be,changeRouterHistory:e=>{var t,n,o;let a=be[e.appName];switch(e.type){case"add":if(be[e.appName]){let a=null==(t=be[e.appName])?void 0:t.indexOf(e.value);a&&-1!=a?be[e.appName]=null==(n=be[e.appName])?void 0:n.slice(0,a+1):null==(o=be[e.appName])||o.push(e.value)}else be[e.appName]=[e.value];break;case"remove":a=void 0;break;case"replace":be[e.appName]=[e.value];break;default:null==a||a.push(e.value)}}}),ke=r(null),_e=r(!0),Ee=()=>({isUseCssTransition:_e,currentApp:ke,changeCurrentApp:e=>{ke.value=e},dragingCloseToast:()=>{const e=document.querySelector("#app-array-toast"),t=document.querySelector(".app-array-bg");e.classList.add("appArray-leave-active"),e.classList.add("appArray-leave-to"),t.style.display="none",setTimeout((()=>{var t;e.classList.remove("appArray-leave-active"),e.classList.remove("appArray-leave-to"),e.style.zIndex="-10",document.querySelector("#"+(null==(t=ke.value)?void 0:t.key)).style.opacity="1"}),300)}});var Ae=c({name:"App",props:{app:{type:Object,default:()=>({})},size:{type:String,default:"normal"}},setup(e){const t=u(),{changeLockState:n}=de(),{dragStatus:o}=fe(),{clearApp:a}=ye(),{appHistory:r}=we(),{changeCurrentApp:i}=Ee();return{open:async()=>{if("mini"==e.size)return;if(e.app.type==te.AppArray)return void i(e.app);if(o.value)return void a(e.app);if(e.app.type==te.App&&!e.app.status)return void p("这个还没写/(ㄒoㄒ)/~~");let l=e.app.key;switch(e.app.useType){case oe.clock:n();break;case oe.camera:!function(){let e=document.createElement("input");e.setAttribute("type","file"),e.setAttribute("accept","image/*"),e.setAttribute("capture","environment"),e.addEventListener("change",(()=>{const t=new FileReader;let n=e.files?e.files[0]:null;n&&(t.readAsDataURL(n),t.onload=t=>{document.body.removeChild(e),s.confirm({title:"图片预览",message:()=>{var e;return h("img",{src:null==(e=null==t?void 0:t.target)?void 0:e.result,style:{width:"100%"}})},confirmButtonText:"保存",cancelButtonText:"取消"}).then((()=>{p.success("保存成功")})).catch()})})),document.body.append(e),e.click()}();break;case oe.full:if(document.fullscreenElement)document.exitFullscreen();else try{document.documentElement.requestFullscreen().catch((()=>{p("这个浏览器好像不支持/(ㄒoㄒ)/~~")}))}catch(u){p("这个浏览器好像不支持/(ㄒoㄒ)/~~")}break;default:e.app.useType==oe.customApp&&await(c=e.app,new Promise((e=>{d([{name:c.key,entry:c.pageUrl,container:"#routerView",activeRule:"/"+c.key,props:{slogan:"Hello Qiankun",baseRoute:"/"}}]),e()})));let o=r[l]?r[l]:[];o&&o.length?o.forEach((e=>{requestAnimationFrame((()=>{t.push(e)}))})):t.push({name:l})}var c},IItemKey:te}}});const Se=b();w("data-v-069af91c");const Te={key:1,class:"app-array"};k();const De=Se(((o,a,r,i,l,s)=>{const c=e("App");return t(),n("div",{class:["app",o.size],id:o.app.key,onClick:a[1]||(a[1]=(...e)=>o.open&&o.open(...e))},[o.app.type==o.IItemKey.App?(t(),n("img",{key:0,src:o.app.photo,alt:""},null,8,["src"])):m("",!0),o.app.type==o.IItemKey.AppArray?(t(),n("div",Te,[(t(!0),n(f,null,v(o.app.children,(e=>(t(),n(c,{key:e.key,app:e,size:"mini"},null,8,["app"])))),128))])):m("",!0),g("p",null,y(o.app.name),1)],10,["id"])}));Ae.render=De,Ae.__scopeId="data-v-069af91c";var Ce=c({components:{App:Ae},setup:()=>({appList:["phone","messages","safari","settings"].map((e=>ve.find((t=>t.key==e))))})});const xe=b();w("data-v-75e747f1");const Oe={class:"dock"};k();const Me=xe(((o,a,r,i,l,s)=>{const c=e("App");return t(),n("div",Oe,[(t(!0),n(f,null,v(o.appList,(e=>(t(),n(c,{key:e.key,app:e},null,8,["app"])))),128))])}));Ce.render=Me,Ce.__scopeId="data-v-75e747f1";var Le=c({props:{app:{type:Object,default:()=>({})}},setup(){const{dragStatus:e,gotouchstart:t,gotouchend:n}=fe();return{IItemKey:te,dragStatus:e,gotouchstart:t,gotouchend:n}}});const Ie=b()(((o,a,r,i,l,s)=>{const c=e("van-icon");return t(),n("div",{class:"app-box",onTouchstart:a[1]||(a[1]=(...e)=>o.gotouchstart&&o.gotouchstart(...e)),onTouchend:a[2]||(a[2]=(...e)=>o.gotouchend&&o.gotouchend(...e)),"data-id":o.app.key},[g("div",{class:""+(o.dragStatus?"shake":""),style:{width:"100%",height:"100%"}},[o.dragStatus&&o.app.type!=o.IItemKey.AppArray?(t(),n(c,{key:0,name:"clear",class:"close"})):m("",!0),_(o.$slots,"default",{},void 0,!0)],2)],40,["data-id"])}));Le.render=Ie,Le.__scopeId="data-v-3b288fd9";var Ne=c({setup(){E((()=>{window.WIDGET={CONFIG:{layout:"1",width:"337",height:"152",background:"1",dataColor:"FFFFFF",modules:"10",borderRadius:"14",key:"bd944729128a411586b094b8ad992a74"}},((e,t)=>{const n=document.createElement("script");n.type="text/javascript",n.src=e,document.body.appendChild(n),n.onload=t||{}})("https://widget.qweather.net/standard/static/js/he-standard-common.js?v=2.0",(()=>{A((()=>{let e=document.querySelector("#he-plugin-standard");e&&(e.style.width="100%")}))}))}))},methods:{navTo(){window.open("https://widget-page.qweather.net/h5/index.html?md=0123456&bg=1&lc=accu&key=6ccfdfa816e341a895dfe493d5d1f585&demo=true&v=_1619672129584")}}});const Pe=b();w("data-v-9fc31f9a");const Re={class:"weather"},Be=g("div",{id:"he-plugin-standard"},null,-1),je=g("p",null,"天气",-1);k();const Xe=Pe(((e,o,a,r,i,l)=>(t(),n("div",Re,[Be,je]))));Ne.render=Xe,Ne.__scopeId="data-v-9fc31f9a";D.use([C]);let Ye=r(null);console.log("useSwiper");
/** !
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function He(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){$e(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function We(e){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ze(){return(ze=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e}).apply(this,arguments)}function Ve(e,t){if(null==e)return{};var n,o,a=function(e,t){if(null==e)return{};var n,o,a={},r=Object.keys(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(o=0;o<r.length;o++)n=r[o],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function qe(e){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(e)}var Ue=qe(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ge=qe(/Edge/i),Ke=qe(/firefox/i),Je=qe(/safari/i)&&!qe(/chrome/i)&&!qe(/android/i),Qe=qe(/iP(ad|od|hone)/i),Ze=qe(/chrome/i)&&qe(/android/i),et={capture:!1,passive:!1};function tt(e,t,n){e.addEventListener(t,n,!Ue&&et)}function nt(e,t,n){e.removeEventListener(t,n,!Ue&&et)}function ot(e,t){if(t){if(">"===t[0]&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch(n){return!1}return!1}}function at(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function rt(e,t,n,o){if(e){n=n||document;do{if(null!=t&&(">"===t[0]?e.parentNode===n&&ot(e,t):ot(e,t))||o&&e===n)return e;if(e===n)break}while(e=at(e))}return null}var it,lt=/\s+/g;function st(e,t,n){if(e&&t)if(e.classList)e.classList[n?"add":"remove"](t);else{var o=(" "+e.className+" ").replace(lt," ").replace(" "+t+" "," ");e.className=(o+(n?" "+t:"")).replace(lt," ")}}function ct(e,t,n){var o=e&&e.style;if(o){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(n=e.currentStyle),void 0===t?n:n[t];t in o||-1!==t.indexOf("webkit")||(t="-webkit-"+t),o[t]=n+("string"==typeof n?"":"px")}}function ut(e,t){var n="";if("string"==typeof e)n=e;else do{var o=ct(e,"transform");o&&"none"!==o&&(n=o+" "+n)}while(!t&&(e=e.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(n)}function pt(e,t,n){if(e){var o=e.getElementsByTagName(t),a=0,r=o.length;if(n)for(;a<r;a++)n(o[a],a);return o}return[]}function dt(){var e=document.scrollingElement;return e||document.documentElement}function ht(e,t,n,o,a){if(e.getBoundingClientRect||e===window){var r,i,l,s,c,u,p;if(e!==window&&e.parentNode&&e!==dt()?(i=(r=e.getBoundingClientRect()).top,l=r.left,s=r.bottom,c=r.right,u=r.height,p=r.width):(i=0,l=0,s=window.innerHeight,c=window.innerWidth,u=window.innerHeight,p=window.innerWidth),(t||n)&&e!==window&&(a=a||e.parentNode,!Ue))do{if(a&&a.getBoundingClientRect&&("none"!==ct(a,"transform")||n&&"static"!==ct(a,"position"))){var d=a.getBoundingClientRect();i-=d.top+parseInt(ct(a,"border-top-width")),l-=d.left+parseInt(ct(a,"border-left-width")),s=i+r.height,c=l+r.width;break}}while(a=a.parentNode);if(o&&e!==window){var h=ut(a||e),m=h&&h.a,f=h&&h.d;h&&(s=(i/=f)+(u/=f),c=(l/=m)+(p/=m))}return{top:i,left:l,bottom:s,right:c,width:p,height:u}}}function mt(e,t,n){for(var o=bt(e,!0),a=ht(e)[t];o;){var r=ht(o)[n];if(!("top"===n||"left"===n?a>=r:a<=r))return o;if(o===dt())break;o=bt(o,!1)}return!1}function ft(e,t,n,o){for(var a=0,r=0,i=e.children;r<i.length;){if("none"!==i[r].style.display&&i[r]!==En.ghost&&(o||i[r]!==En.dragged)&&rt(i[r],n.draggable,e,!1)){if(a===t)return i[r];a++}r++}return null}function vt(e,t){for(var n=e.lastElementChild;n&&(n===En.ghost||"none"===ct(n,"display")||t&&!ot(n,t));)n=n.previousElementSibling;return n||null}function gt(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)"TEMPLATE"===e.nodeName.toUpperCase()||e===En.clone||t&&!ot(e,t)||n++;return n}function yt(e){var t=0,n=0,o=dt();if(e)do{var a=ut(e),r=a.a,i=a.d;t+=e.scrollLeft*r,n+=e.scrollTop*i}while(e!==o&&(e=e.parentNode));return[t,n]}function bt(e,t){if(!e||!e.getBoundingClientRect)return dt();var n=e,o=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var a=ct(n);if(n.clientWidth<n.scrollWidth&&("auto"==a.overflowX||"scroll"==a.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==a.overflowY||"scroll"==a.overflowY)){if(!n.getBoundingClientRect||n===document.body)return dt();if(o||t)return n;o=!0}}}while(n=n.parentNode);return dt()}function wt(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}function kt(e,t){return function(){if(!it){var n=arguments,o=this;1===n.length?e.call(o,n[0]):e.apply(o,n),it=setTimeout((function(){it=void 0}),t)}}}function _t(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Et(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}var At="Sortable"+(new Date).getTime();function St(){var e,t=[];return{captureAnimationState:function(){(t=[],this.options.animation)&&[].slice.call(this.el.children).forEach((function(e){if("none"!==ct(e,"display")&&e!==En.ghost){t.push({target:e,rect:ht(e)});var n=He({},t[t.length-1].rect);if(e.thisAnimationDuration){var o=ut(e,!0);o&&(n.top-=o.f,n.left-=o.e)}e.fromRect=n}}))},addAnimationState:function(e){t.push(e)},removeAnimationState:function(e){t.splice(function(e,t){for(var n in e)if(e.hasOwnProperty(n))for(var o in t)if(t.hasOwnProperty(o)&&t[o]===e[n][o])return Number(n);return-1}(t,{target:e}),1)},animateAll:function(n){var o=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof n&&n());var a=!1,r=0;t.forEach((function(e){var t=0,n=e.target,i=n.fromRect,l=ht(n),s=n.prevFromRect,c=n.prevToRect,u=e.rect,p=ut(n,!0);p&&(l.top-=p.f,l.left-=p.e),n.toRect=l,n.thisAnimationDuration&&wt(s,l)&&!wt(i,l)&&(u.top-l.top)/(u.left-l.left)==(i.top-l.top)/(i.left-l.left)&&(t=function(e,t,n,o){return Math.sqrt(Math.pow(t.top-e.top,2)+Math.pow(t.left-e.left,2))/Math.sqrt(Math.pow(t.top-n.top,2)+Math.pow(t.left-n.left,2))*o.animation}(u,s,c,o.options)),wt(l,i)||(n.prevFromRect=i,n.prevToRect=l,t||(t=o.options.animation),o.animate(n,u,l,t)),t&&(a=!0,r=Math.max(r,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout((function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null}),t),n.thisAnimationDuration=t)})),clearTimeout(e),a?e=setTimeout((function(){"function"==typeof n&&n()}),r):"function"==typeof n&&n(),t=[]},animate:function(e,t,n,o){if(o){ct(e,"transition",""),ct(e,"transform","");var a=ut(this.el),r=a&&a.a,i=a&&a.d,l=(t.left-n.left)/(r||1),s=(t.top-n.top)/(i||1);e.animatingX=!!l,e.animatingY=!!s,ct(e,"transform","translate3d("+l+"px,"+s+"px,0)"),this.forRepaintDummy=function(e){return e.offsetWidth}(e),ct(e,"transition","transform "+o+"ms"+(this.options.easing?" "+this.options.easing:"")),ct(e,"transform","translate3d(0,0,0)"),"number"==typeof e.animated&&clearTimeout(e.animated),e.animated=setTimeout((function(){ct(e,"transition",""),ct(e,"transform",""),e.animated=!1,e.animatingX=!1,e.animatingY=!1}),o)}}}}var Tt=[],Dt={initializeByDefault:!0},Ct={mount:function(e){for(var t in Dt)Dt.hasOwnProperty(t)&&!(t in e)&&(e[t]=Dt[t]);Tt.forEach((function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")})),Tt.push(e)},pluginEvent:function(e,t,n){var o=this;this.eventCanceled=!1,n.cancel=function(){o.eventCanceled=!0};var a=e+"Global";Tt.forEach((function(o){t[o.pluginName]&&(t[o.pluginName][a]&&t[o.pluginName][a](He({sortable:t},n)),t.options[o.pluginName]&&t[o.pluginName][e]&&t[o.pluginName][e](He({sortable:t},n)))}))},initializePlugins:function(e,t,n,o){for(var a in Tt.forEach((function(o){var a=o.pluginName;if(e.options[a]||o.initializeByDefault){var r=new o(e,t,e.options);r.sortable=e,r.options=e.options,e[a]=r,ze(n,r.defaults)}})),e.options)if(e.options.hasOwnProperty(a)){var r=this.modifyOption(e,a,e.options[a]);void 0!==r&&(e.options[a]=r)}},getEventProperties:function(e,t){var n={};return Tt.forEach((function(o){"function"==typeof o.eventProperties&&ze(n,o.eventProperties.call(t[o.pluginName],e))})),n},modifyOption:function(e,t,n){var o;return Tt.forEach((function(a){e[a.pluginName]&&a.optionListeners&&"function"==typeof a.optionListeners[t]&&(o=a.optionListeners[t].call(e[a.pluginName],n))})),o}};var xt,Ot,Mt,Lt,It,Nt,Pt,Rt,Bt,jt,Xt,Yt,Ft,Ht,Wt=["evt"],$t=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=n.evt,a=Ve(n,Wt);Ct.pluginEvent.bind(En)(e,t,He({dragEl:xt,parentEl:Ot,ghostEl:Mt,rootEl:Lt,nextEl:It,lastDownEl:Nt,cloneEl:Pt,cloneHidden:Rt,dragStarted:Qt,putSortable:Ht,activeSortable:En.active,originalEvent:o,oldIndex:Bt,oldDraggableIndex:Xt,newIndex:jt,newDraggableIndex:Yt,hideGhostForTarget:bn,unhideGhostForTarget:wn,cloneNowHidden:function(){Rt=!0},cloneNowShown:function(){Rt=!1},dispatchSortableEvent:function(e){zt({sortable:t,name:e,originalEvent:o})}},a))};function zt(e){!function(e){var t=e.sortable,n=e.rootEl,o=e.name,a=e.targetEl,r=e.cloneEl,i=e.toEl,l=e.fromEl,s=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,p=e.newDraggableIndex,d=e.originalEvent,h=e.putSortable,m=e.extraEventProperties;if(t=t||n&&n[At]){var f,v=t.options,g="on"+o.charAt(0).toUpperCase()+o.substr(1);!window.CustomEvent||Ue||Ge?(f=document.createEvent("Event")).initEvent(o,!0,!0):f=new CustomEvent(o,{bubbles:!0,cancelable:!0}),f.to=i||n,f.from=l||n,f.item=a||n,f.clone=r,f.oldIndex=s,f.newIndex=c,f.oldDraggableIndex=u,f.newDraggableIndex=p,f.originalEvent=d,f.pullMode=h?h.lastPutMode:void 0;var y=He(He({},m),Ct.getEventProperties(o,t));for(var b in y)f[b]=y[b];n&&n.dispatchEvent(f),v[g]&&v[g].call(t,f)}}(He({putSortable:Ht,cloneEl:Pt,targetEl:xt,rootEl:Lt,oldIndex:Bt,oldDraggableIndex:Xt,newIndex:jt,newDraggableIndex:Yt},e))}var Vt,qt,Ut,Gt,Kt,Jt,Qt,Zt,en,tn,nn,on=!1,an=!1,rn=[],ln=!1,sn=!1,cn=[],un=!1,pn=[],dn="undefined"!=typeof document,hn=Qe,mn=Ge||Ue?"cssFloat":"float",fn=dn&&!Ze&&!Qe&&"draggable"in document.createElement("div"),vn=function(){if(dn){if(Ue)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto","auto"===e.style.pointerEvents}}(),gn=function(e,t){var n=ct(e),o=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),a=ft(e,0,t),r=ft(e,1,t),i=a&&ct(a),l=r&&ct(r),s=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+ht(a).width,c=l&&parseInt(l.marginLeft)+parseInt(l.marginRight)+ht(r).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(a&&i.float&&"none"!==i.float){var u="left"===i.float?"left":"right";return!r||"both"!==l.clear&&l.clear!==u?"horizontal":"vertical"}return a&&("block"===i.display||"flex"===i.display||"table"===i.display||"grid"===i.display||s>=o&&"none"===n[mn]||r&&"none"===n[mn]&&s+c>o)?"vertical":"horizontal"},yn=function(e){function t(e,n){return function(o,a,r,i){var l=o.options.group.name&&a.options.group.name&&o.options.group.name===a.options.group.name;if(null==e&&(n||l))return!0;if(null==e||!1===e)return!1;if(n&&"clone"===e)return e;if("function"==typeof e)return t(e(o,a,r,i),n)(o,a,r,i);var s=(n?o:a).options.group.name;return!0===e||"string"==typeof e&&e===s||e.join&&e.indexOf(s)>-1}}var n={},o=e.group;o&&"object"==We(o)||(o={name:o}),n.name=o.name,n.checkPull=t(o.pull,!0),n.checkPut=t(o.put),n.revertClone=o.revertClone,e.group=n},bn=function(){!vn&&Mt&&ct(Mt,"display","none")},wn=function(){!vn&&Mt&&ct(Mt,"display","")};dn&&document.addEventListener("click",(function(e){if(an)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),an=!1,!1}),!0);var kn=function(e){if(xt){e=e.touches?e.touches[0]:e;var t=(a=e.clientX,r=e.clientY,rn.some((function(e){var t=e[At].options.emptyInsertThreshold;if(t&&!vt(e)){var n=ht(e),o=a>=n.left-t&&a<=n.right+t,l=r>=n.top-t&&r<=n.bottom+t;return o&&l?i=e:void 0}})),i);if(t){var n={};for(var o in e)e.hasOwnProperty(o)&&(n[o]=e[o]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[At]._onDragOver(n)}}var a,r,i},_n=function(e){xt&&xt.parentNode[At]._isOutsideThisEl(e.target)};function En(e,t){if(!e||!e.nodeType||1!==e.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=t=ze({},t),e[At]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return gn(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData("Text",t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==En.supportPointer&&"PointerEvent"in window&&!Je,emptyInsertThreshold:5};for(var o in Ct.initializePlugins(this,e,n),n)!(o in t)&&(t[o]=n[o]);for(var a in yn(t),this)"_"===a.charAt(0)&&"function"==typeof this[a]&&(this[a]=this[a].bind(this));this.nativeDraggable=!t.forceFallback&&fn,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?tt(e,"pointerdown",this._onTapStart):(tt(e,"mousedown",this._onTapStart),tt(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(tt(e,"dragover",this),tt(e,"dragenter",this)),rn.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),ze(this,St())}function An(e,t,n,o,a,r,i,l){var s,c,u=e[At],p=u.options.onMove;return!window.CustomEvent||Ue||Ge?(s=document.createEvent("Event")).initEvent("move",!0,!0):s=new CustomEvent("move",{bubbles:!0,cancelable:!0}),s.to=t,s.from=e,s.dragged=n,s.draggedRect=o,s.related=a||t,s.relatedRect=r||ht(t),s.willInsertAfter=l,s.originalEvent=i,e.dispatchEvent(s),p&&(c=p.call(u,s,i)),c}function Sn(e){e.draggable=!1}function Tn(){un=!1}function Dn(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,o=0;n--;)o+=t.charCodeAt(n);return o.toString(36)}function Cn(e){return setTimeout(e,0)}function xn(e){return clearTimeout(e)}En.prototype={constructor:En,_isOutsideThisEl:function(e){this.el.contains(e)||e===this.el||(Zt=null)},_getDirection:function(e,t){return"function"==typeof this.options.direction?this.options.direction.call(this,e,t,xt):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,o=this.options,a=o.preventOnFilter,r=e.type,i=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,l=(i||e).target,s=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||l,c=o.filter;if(function(e){pn.length=0;var t=e.getElementsByTagName("input"),n=t.length;for(;n--;){var o=t[n];o.checked&&pn.push(o)}}(n),!xt&&!(/mousedown|pointerdown/.test(r)&&0!==e.button||o.disabled)&&!s.isContentEditable&&(this.nativeDraggable||!Je||!l||"SELECT"!==l.tagName.toUpperCase())&&!((l=rt(l,o.draggable,n,!1))&&l.animated||Nt===l)){if(Bt=gt(l),Xt=gt(l,o.draggable),"function"==typeof c){if(c.call(this,e,l,this))return zt({sortable:t,rootEl:s,name:"filter",targetEl:l,toEl:n,fromEl:n}),$t("filter",t,{evt:e}),void(a&&e.cancelable&&e.preventDefault())}else if(c&&(c=c.split(",").some((function(o){if(o=rt(s,o.trim(),n,!1))return zt({sortable:t,rootEl:o,name:"filter",targetEl:l,fromEl:n,toEl:n}),$t("filter",t,{evt:e}),!0}))))return void(a&&e.cancelable&&e.preventDefault());o.handle&&!rt(s,o.handle,n,!1)||this._prepareDragStart(e,i,l)}}},_prepareDragStart:function(e,t,n){var o,a=this,r=a.el,i=a.options,l=r.ownerDocument;if(n&&!xt&&n.parentNode===r){var s=ht(n);if(Lt=r,Ot=(xt=n).parentNode,It=xt.nextSibling,Nt=n,Ft=i.group,En.dragged=xt,Vt={target:xt,clientX:(t||e).clientX,clientY:(t||e).clientY},Kt=Vt.clientX-s.left,Jt=Vt.clientY-s.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,xt.style["will-change"]="all",o=function(){$t("delayEnded",a,{evt:e}),En.eventCanceled?a._onDrop():(a._disableDelayedDragEvents(),!Ke&&a.nativeDraggable&&(xt.draggable=!0),a._triggerDragStart(e,t),zt({sortable:a,name:"choose",originalEvent:e}),st(xt,i.chosenClass,!0))},i.ignore.split(",").forEach((function(e){pt(xt,e.trim(),Sn)})),tt(l,"dragover",kn),tt(l,"mousemove",kn),tt(l,"touchmove",kn),tt(l,"mouseup",a._onDrop),tt(l,"touchend",a._onDrop),tt(l,"touchcancel",a._onDrop),Ke&&this.nativeDraggable&&(this.options.touchStartThreshold=4,xt.draggable=!0),$t("delayStart",this,{evt:e}),!i.delay||i.delayOnTouchOnly&&!t||this.nativeDraggable&&(Ge||Ue))o();else{if(En.eventCanceled)return void this._onDrop();tt(l,"mouseup",a._disableDelayedDrag),tt(l,"touchend",a._disableDelayedDrag),tt(l,"touchcancel",a._disableDelayedDrag),tt(l,"mousemove",a._delayedDragTouchMoveHandler),tt(l,"touchmove",a._delayedDragTouchMoveHandler),i.supportPointer&&tt(l,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(o,i.delay)}}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){xt&&Sn(xt),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;nt(e,"mouseup",this._disableDelayedDrag),nt(e,"touchend",this._disableDelayedDrag),nt(e,"touchcancel",this._disableDelayedDrag),nt(e,"mousemove",this._delayedDragTouchMoveHandler),nt(e,"touchmove",this._delayedDragTouchMoveHandler),nt(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||"touch"==e.pointerType&&e,!this.nativeDraggable||t?this.options.supportPointer?tt(document,"pointermove",this._onTouchMove):tt(document,t?"touchmove":"mousemove",this._onTouchMove):(tt(xt,"dragend",this),tt(Lt,"dragstart",this._onDragStart));try{document.selection?Cn((function(){document.selection.empty()})):window.getSelection().removeAllRanges()}catch(n){}},_dragStarted:function(e,t){if(on=!1,Lt&&xt){$t("dragStarted",this,{evt:t}),this.nativeDraggable&&tt(document,"dragover",_n);var n=this.options;!e&&st(xt,n.dragClass,!1),st(xt,n.ghostClass,!0),En.active=this,e&&this._appendGhost(),zt({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(qt){this._lastX=qt.clientX,this._lastY=qt.clientY,bn();for(var e=document.elementFromPoint(qt.clientX,qt.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(qt.clientX,qt.clientY))!==t;)t=e;if(xt.parentNode[At]._isOutsideThisEl(e),t)do{if(t[At]){if(t[At]._onDragOver({clientX:qt.clientX,clientY:qt.clientY,target:e,rootEl:t})&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);wn()}},_onTouchMove:function(e){if(e.stopPropagation(),Vt){var t=this.options,n=t.fallbackTolerance,o=t.fallbackOffset,a=e.touches?e.touches[0]:e,r=Mt&&ut(Mt,!0),i=Mt&&r&&r.a,l=Mt&&r&&r.d,s=hn&&nn&&yt(nn),c=(a.clientX-Vt.clientX+o.x)/(i||1)+(s?s[0]-cn[0]:0)/(i||1),u=(a.clientY-Vt.clientY+o.y)/(l||1)+(s?s[1]-cn[1]:0)/(l||1);if(!En.active&&!on){if(n&&Math.max(Math.abs(a.clientX-this._lastX),Math.abs(a.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(Mt){r?(r.e+=c-(Ut||0),r.f+=u-(Gt||0)):r={a:1,b:0,c:0,d:1,e:c,f:u};var p="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")");ct(Mt,"webkitTransform",p),ct(Mt,"mozTransform",p),ct(Mt,"msTransform",p),ct(Mt,"transform",p),Ut=c,Gt=u,qt=a}e.cancelable&&e.preventDefault(),this.options.onEventMove&&this.options.onEventMove(e)}},_appendGhost:function(){if(!Mt){var e=this.options.fallbackOnBody?document.body:Lt,t=ht(xt,!0,hn,!0,e),n=this.options;if(hn){for(nn=e;"static"===ct(nn,"position")&&"none"===ct(nn,"transform")&&nn!==document;)nn=nn.parentNode;nn!==document.body&&nn!==document.documentElement?(nn===document&&(nn=dt()),t.top+=nn.scrollTop,t.left+=nn.scrollLeft):nn=dt(),cn=yt(nn)}st(Mt=xt.cloneNode(!0),n.ghostClass,!1),st(Mt,n.fallbackClass,!0),st(Mt,n.dragClass,!0),ct(Mt,"transition",""),ct(Mt,"transform",""),ct(Mt,"box-sizing","border-box"),ct(Mt,"margin",0),ct(Mt,"top",t.top),ct(Mt,"left",t.left),ct(Mt,"width",t.width),ct(Mt,"height",t.height),ct(Mt,"opacity","0.8"),ct(Mt,"position",hn?"absolute":"fixed"),ct(Mt,"zIndex","100000"),ct(Mt,"pointerEvents","none"),En.ghost=Mt,e.appendChild(Mt),ct(Mt,"transform-origin",Kt/parseInt(Mt.style.width)*100+"% "+Jt/parseInt(Mt.style.height)*100+"%")}},_onDragStart:function(e,t){var n=this,o=e.dataTransfer,a=n.options;$t("dragStart",this,{evt:e}),En.eventCanceled?this._onDrop():($t("setupClone",this),En.eventCanceled||((Pt=Et(xt)).draggable=!1,Pt.style["will-change"]="",this._hideClone(),st(Pt,this.options.chosenClass,!1),En.clone=Pt),n.cloneId=Cn((function(){$t("clone",n),En.eventCanceled||(n.options.removeCloneOnHide||Lt.insertBefore(Pt,xt),n._hideClone(),zt({sortable:n,name:"clone"}))})),!t&&st(xt,a.dragClass,!0),t?(an=!0,n._loopId=setInterval(n._emulateDragOver,50)):(nt(document,"mouseup",n._onDrop),nt(document,"touchend",n._onDrop),nt(document,"touchcancel",n._onDrop),o&&(o.effectAllowed="move",a.setData&&a.setData.call(n,o,xt)),tt(document,"drop",n),ct(xt,"transform","translateZ(0)")),on=!0,n._dragStartId=Cn(n._dragStarted.bind(n,t,e)),tt(document,"selectstart",n),Qt=!0,Je&&ct(document.body,"user-select","none"))},_onDragOver:function(e){var t,n,o,a,r=this.el,i=e.target,l=this.options,s=l.group,c=En.active,u=Ft===s,p=l.sort,d=Ht||c,h=this,m=!1;if(!un){if(void 0!==e.preventDefault&&e.cancelable&&e.preventDefault(),i=rt(i,l.draggable,r,!0),x("dragOver"),En.eventCanceled)return m;if(xt.contains(e.target)||i.animated&&i.animatingX&&i.animatingY||h._ignoreWhileAnimating===i)return M(!1);if(an=!1,c&&!l.disabled&&(u?p||(o=Ot!==Lt):Ht===this||(this.lastPutMode=Ft.checkPull(this,c,xt,e))&&s.checkPut(this,c,xt,e))){if(a="vertical"===this._getDirection(e,i),t=ht(xt),x("dragOverValid"),En.eventCanceled)return m;if(o)return Ot=Lt,O(),this._hideClone(),x("revert"),En.eventCanceled||(It?Lt.insertBefore(xt,It):Lt.appendChild(xt)),M(!0);var f=vt(r,l.draggable);if(!f||function(e,t,n){var o=ht(vt(n.el,n.options.draggable)),a=10;return t?e.clientX>o.right+a||e.clientX<=o.right&&e.clientY>o.bottom&&e.clientX>=o.left:e.clientX>o.right&&e.clientY>o.top||e.clientX<=o.right&&e.clientY>o.bottom+a}(e,a,this)&&!f.animated){if(f===xt)return M(!1);if(f&&r===e.target&&(i=f),i&&(n=ht(i)),!1!==An(Lt,r,xt,t,i,n,e,!!i))return O(),r.appendChild(xt),Ot=r,L(),M(!0)}else if(f&&function(e,t,n){var o=ht(ft(n.el,0,n.options,!0)),a=10;return t?e.clientX<o.left-a||e.clientY<o.top&&e.clientX<o.right:e.clientY<o.top-a||e.clientY<o.bottom&&e.clientX<o.left}(e,a,this)){var v=ft(r,0,l,!0);if(v===xt)return M(!1);if(n=ht(i=v),!1!==An(Lt,r,xt,t,i,n,e,!1))return O(),r.insertBefore(xt,v),Ot=r,L(),M(!0)}else if(i.parentNode===r){n=ht(i);var g,y,b,w=xt.parentNode!==r,k=!function(e,t,n){var o=n?e.left:e.top,a=n?e.right:e.bottom,r=n?e.width:e.height,i=n?t.left:t.top,l=n?t.right:t.bottom,s=n?t.width:t.height;return o===i||a===l||o+r/2===i+s/2}(xt.animated&&xt.toRect||t,i.animated&&i.toRect||n,a),_=a?"top":"left",E=mt(i,"top","top")||mt(xt,"top","top"),A=E?E.scrollTop:void 0;if(Zt!==i&&(y=n[_],ln=!1,sn=!k&&l.invertSwap||w),0!==(g=function(e,t,n,o,a,r,i,l){var s=o?e.clientY:e.clientX,c=o?n.height:n.width,u=o?n.top:n.left,p=o?n.bottom:n.right,d=!1;if(!i)if(l&&tn<c*a){if(!ln&&(1===en?s>u+c*r/2:s<p-c*r/2)&&(ln=!0),ln)d=!0;else if(1===en?s<u+tn:s>p-tn)return-en}else if(s>u+c*(1-a)/2&&s<p-c*(1-a)/2)return function(e){return gt(xt)<gt(e)?1:-1}(t);if((d=d||i)&&(s<u+c*r/2||s>p-c*r/2))return s>u+c/2?1:-1;return 0}(e,i,n,a,k?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,sn,Zt===i))){var S=gt(xt);do{S-=g,b=Ot.children[S]}while(b&&("none"===ct(b,"display")||b===Mt))}if(0===g||b===i)return M(!1);Zt=i,en=g;var T=i.nextElementSibling,D=!1,C=An(Lt,r,xt,t,i,n,e,D=1===g);if(!1!==C)return 1!==C&&-1!==C||(D=1===C),un=!0,setTimeout(Tn,30),O(),D&&!T?r.appendChild(xt):i.parentNode.insertBefore(xt,D?T:i),E&&_t(E,0,A-E.scrollTop),Ot=xt.parentNode,void 0===y||sn||(tn=Math.abs(y-ht(i)[_])),L(),M(!0)}if(r.contains(xt))return M(!1)}return!1}function x(l,s){$t(l,h,He({evt:e,isOwner:u,axis:a?"vertical":"horizontal",revert:o,dragRect:t,targetRect:n,canSort:p,fromSortable:d,target:i,completed:M,onMove:function(n,o){return An(Lt,r,xt,t,n,ht(n),e,o)},changed:L},s))}function O(){x("dragOverAnimationCapture"),h.captureAnimationState(),h!==d&&d.captureAnimationState()}function M(t){return x("dragOverCompleted",{insertion:t}),t&&(u?c._hideClone():c._showClone(h),h!==d&&(st(xt,Ht?Ht.options.ghostClass:c.options.ghostClass,!1),st(xt,l.ghostClass,!0)),Ht!==h&&h!==En.active?Ht=h:h===En.active&&Ht&&(Ht=null),d===h&&(h._ignoreWhileAnimating=i),h.animateAll((function(){x("dragOverAnimationComplete"),h._ignoreWhileAnimating=null})),h!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(i===xt&&!xt.animated||i===r&&!i.animated)&&(Zt=null),l.dragoverBubble||e.rootEl||i===document||(xt.parentNode[At]._isOutsideThisEl(e.target),!t&&kn(e)),!l.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function L(){jt=gt(xt),Yt=gt(xt,l.draggable),zt({sortable:h,name:"change",toEl:r,newIndex:jt,newDraggableIndex:Yt,originalEvent:e})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){nt(document,"mousemove",this._onTouchMove),nt(document,"touchmove",this._onTouchMove),nt(document,"pointermove",this._onTouchMove),nt(document,"dragover",kn),nt(document,"mousemove",kn),nt(document,"touchmove",kn)},_offUpEvents:function(){var e=this.el.ownerDocument;nt(e,"mouseup",this._onDrop),nt(e,"touchend",this._onDrop),nt(e,"pointerup",this._onDrop),nt(e,"touchcancel",this._onDrop),nt(document,"selectstart",this)},_onDrop:function(e){var t=this.el,n=this.options;jt=gt(xt),Yt=gt(xt,n.draggable),$t("drop",this,{evt:e}),Ot=xt&&xt.parentNode,jt=gt(xt),Yt=gt(xt,n.draggable),En.eventCanceled||(on=!1,sn=!1,ln=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),xn(this.cloneId),xn(this._dragStartId),this.nativeDraggable&&(nt(document,"drop",this),nt(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Je&&ct(document.body,"user-select",""),ct(xt,"transform",""),e&&(Qt&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),Mt&&Mt.parentNode&&Mt.parentNode.removeChild(Mt),(Lt===Ot||Ht&&"clone"!==Ht.lastPutMode)&&Pt&&Pt.parentNode&&Pt.parentNode.removeChild(Pt),xt&&(this.nativeDraggable&&nt(xt,"dragend",this),Sn(xt),xt.style["will-change"]="",Qt&&!on&&st(xt,Ht?Ht.options.ghostClass:this.options.ghostClass,!1),st(xt,this.options.chosenClass,!1),zt({sortable:this,name:"unchoose",toEl:Ot,newIndex:null,newDraggableIndex:null,originalEvent:e}),Lt!==Ot?(jt>=0&&(zt({rootEl:Ot,name:"add",toEl:Ot,fromEl:Lt,originalEvent:e}),zt({sortable:this,name:"remove",toEl:Ot,originalEvent:e}),zt({rootEl:Ot,name:"sort",toEl:Ot,fromEl:Lt,originalEvent:e}),zt({sortable:this,name:"sort",toEl:Ot,originalEvent:e})),Ht&&Ht.save()):jt!==Bt&&jt>=0&&(zt({sortable:this,name:"update",toEl:Ot,originalEvent:e}),zt({sortable:this,name:"sort",toEl:Ot,originalEvent:e})),En.active&&(null!=jt&&-1!==jt||(jt=Bt,Yt=Xt),zt({sortable:this,name:"end",toEl:Ot,originalEvent:e}),this.save())))),this._nulling()},_nulling:function(){$t("nulling",this),Lt=xt=Ot=Mt=It=Pt=Nt=Rt=Vt=qt=Qt=jt=Yt=Bt=Xt=Zt=en=Ht=Ft=En.dragged=En.ghost=En.clone=En.active=null,pn.forEach((function(e){e.checked=!0})),pn.length=Ut=Gt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":xt&&(this._onDragOver(e),function(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move");e.cancelable&&e.preventDefault()}(e));break;case"selectstart":e.preventDefault()}},toArray:function(){for(var e,t=[],n=this.el.children,o=0,a=n.length,r=this.options;o<a;o++)rt(e=n[o],r.draggable,this.el,!1)&&t.push(e.getAttribute(r.dataIdAttr)||Dn(e));return t},sort:function(e,t){var n={},o=this.el;this.toArray().forEach((function(e,t){var a=o.children[t];rt(a,this.options.draggable,o,!1)&&(n[e]=a)}),this),t&&this.captureAnimationState(),e.forEach((function(e){n[e]&&(o.removeChild(n[e]),o.appendChild(n[e]))})),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return rt(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(void 0===t)return n[e];var o=Ct.modifyOption(this,e,t);n[e]=void 0!==o?o:t,"group"===e&&yn(n)},destroy:function(){$t("destroy",this);var e=this.el;e[At]=null,nt(e,"mousedown",this._onTapStart),nt(e,"touchstart",this._onTapStart),nt(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(nt(e,"dragover",this),nt(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),(function(e){e.removeAttribute("draggable")})),this._onDrop(),this._disableDelayedDragEvents(),rn.splice(rn.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Rt){if($t("hideClone",this),En.eventCanceled)return;ct(Pt,"display","none"),this.options.removeCloneOnHide&&Pt.parentNode&&Pt.parentNode.removeChild(Pt),Rt=!0}},_showClone:function(e){if("clone"===e.lastPutMode){if(Rt){if($t("showClone",this),En.eventCanceled)return;xt.parentNode!=Lt||this.options.group.revertClone?It?Lt.insertBefore(Pt,It):Lt.appendChild(Pt):Lt.insertBefore(Pt,xt),this.options.group.revertClone&&this.animate(xt,Pt),ct(Pt,"display",""),Rt=!1}}else this._hideClone()}},dn&&tt(document,"touchmove",(function(e){(En.active||on)&&e.cancelable&&e.preventDefault()})),En.utils={on:tt,off:nt,css:ct,find:pt,is:function(e,t){return!!rt(e,t,e,!1)},extend:function(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e},throttle:kt,closest:rt,toggleClass:st,clone:Et,index:gt,nextTick:Cn,cancelNextTick:xn,detectDirection:gn,getChild:ft},En.get=function(e){return e[At]},En.mount=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];t[0].constructor===Array&&(t=t[0]),t.forEach((function(e){if(!e.prototype||!e.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(e));e.utils&&(En.utils=He(He({},En.utils),e.utils)),Ct.mount(e)}))},En.create=function(e,t){return new En(e,t)},En.version="1.14.0";var On,Mn,Ln,In,Nn,Pn,Rn=[],Bn=!1;function jn(){Rn.forEach((function(e){clearInterval(e.pid)})),Rn=[]}function Xn(){clearInterval(Pn)}var Yn=kt((function(e,t,n,o){if(t.scroll){var a,r=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,l=t.scrollSensitivity,s=t.scrollSpeed,c=dt(),u=!1;Mn!==n&&(Mn=n,jn(),On=t.scroll,a=t.scrollFn,!0===On&&(On=bt(n,!0)));var p=0,d=On;do{var h=d,m=ht(h),f=m.top,v=m.bottom,g=m.left,y=m.right,b=m.width,w=m.height,k=void 0,_=void 0,E=h.scrollWidth,A=h.scrollHeight,S=ct(h),T=h.scrollLeft,D=h.scrollTop;h===c?(k=b<E&&("auto"===S.overflowX||"scroll"===S.overflowX||"visible"===S.overflowX),_=w<A&&("auto"===S.overflowY||"scroll"===S.overflowY||"visible"===S.overflowY)):(k=b<E&&("auto"===S.overflowX||"scroll"===S.overflowX),_=w<A&&("auto"===S.overflowY||"scroll"===S.overflowY));var C=k&&(Math.abs(y-r)<=l&&T+b<E)-(Math.abs(g-r)<=l&&!!T),x=_&&(Math.abs(v-i)<=l&&D+w<A)-(Math.abs(f-i)<=l&&!!D);if(!Rn[p])for(var O=0;O<=p;O++)Rn[O]||(Rn[O]={});Rn[p].vx==C&&Rn[p].vy==x&&Rn[p].el===h||(Rn[p].el=h,Rn[p].vx=C,Rn[p].vy=x,clearInterval(Rn[p].pid),0==C&&0==x||(u=!0,Rn[p].pid=setInterval(function(){o&&0===this.layer&&En.active._onTouchMove(Nn);var t=Rn[this.layer].vy?Rn[this.layer].vy*s:0,n=Rn[this.layer].vx?Rn[this.layer].vx*s:0;"function"==typeof a&&"continue"!==a.call(En.dragged.parentNode[At],n,t,e,Nn,Rn[this.layer].el)||_t(Rn[this.layer].el,n,t)}.bind({layer:p}),24))),p++}while(t.bubbleScroll&&d!==c&&(d=bt(d,!1)));Bn=u}}),30),Fn=function(e){var t=e.originalEvent,n=e.putSortable,o=e.dragEl,a=e.activeSortable,r=e.dispatchSortableEvent,i=e.hideGhostForTarget,l=e.unhideGhostForTarget;if(t){var s=n||a;i();var c=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(c.clientX,c.clientY);l(),s&&!s.el.contains(u)&&(r("spill"),this.onSpill({dragEl:o,putSortable:n}))}};function Hn(){}function Wn(){}Hn.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var o=ft(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:Fn},ze(Hn,{pluginName:"revertOnSpill"}),Wn.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:Fn},ze(Wn,{pluginName:"removeOnSpill"}),En.mount(new function(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===e.charAt(0)&&"function"==typeof this[e]&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?tt(document,"dragover",this._handleAutoScroll):this.options.supportPointer?tt(document,"pointermove",this._handleFallbackAutoScroll):t.touches?tt(document,"touchmove",this._handleFallbackAutoScroll):tt(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?nt(document,"dragover",this._handleAutoScroll):(nt(document,"pointermove",this._handleFallbackAutoScroll),nt(document,"touchmove",this._handleFallbackAutoScroll),nt(document,"mousemove",this._handleFallbackAutoScroll)),Xn(),jn(),clearTimeout(it),it=void 0},nulling:function(){Nn=Mn=On=Bn=Pn=Ln=In=null,Rn.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,o=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,r=document.elementFromPoint(o,a);if(Nn=e,t||this.options.forceAutoScrollFallback||Ge||Ue||Je){Yn(e,this.options,r,t);var i=bt(r,!0);!Bn||Pn&&o===Ln&&a===In||(Pn&&Xn(),Pn=setInterval((function(){var r=bt(document.elementFromPoint(o,a),!0);r!==i&&(i=r,jn()),Yn(e,n.options,r,t)}),10),Ln=o,In=a)}else{if(!this.options.bubbleScroll||bt(r,!0)===dt())return void jn();Yn(e,this.options,bt(r,!1),!1)}}},ze(e,{pluginName:"scroll",initializeByDefault:!0})}),En.mount(Wn,Hn);const $n=r(null);let zn,Vn,qn,Un=!1,Gn=!1;const Kn=e=>{const{updateAppList:t,findAppArrayChildren:n}=ye(),{changeCurrentApp:o,currentApp:a,dragingCloseToast:r}=Ee();let i,l=document.querySelector(e),s=0;if("#appArray-box"==e){let t=document.querySelector(e);setTimeout((()=>{i=t.getBoundingClientRect()}),500)}let c={group:{name:"app-group",pull:!0,put:!0},animation:500,ghostClass:"box-ghost",forceFallback:!0,fallbackOnBody:!0,handle:".app-box",onEventMove:Q((function(t){if("#appArray-box"!=e)return;const n=t.changedTouches[0].clientX,o=t.changedTouches[0].clientY;(i.left>n||i.right<n||i.top>o||i.bottom<o)&&(Gn=!0,r())}),50),onStart:function(e){s=e.originalEvent.targetTouches[0].clientX-e.item.offsetLeft,s=e.item.offsetWidth/2-s,Ye.value.allowTouchMove=!1,qn=e.item},onMove:function(e){const t=e.relatedRect.left+e.relatedRect.width/3,n=e.relatedRect.left+e.relatedRect.width/3*2,o=e.relatedRect.top+e.relatedRect.height/5,a=e.relatedRect.top+e.relatedRect.height/5*4,r=e.originalEvent.clientX+s,i=e.originalEvent.clientY;return t<r&&r<n&&o<i&&i<a?(e.related.classList.add("changeToBox"),$n.value=e.related,Un=!0,!1):Un?(e.related.classList.remove("changeToBox"),$n.value=null,Un=!1,!0):(setTimeout((()=>{Un=!0}),600),!1)},onEnd:function(e){var r,i;let l=zn.toArray(),s=[];if($n.value){$n.value.classList.remove("changeToBox");let t=$n.value.dataset.id,o=e.item.dataset.id;if(-1==t.indexOf("appArray")){let e={key:"appArray"+(new Date).getTime(),children:[t,o]};l.splice(l.indexOf(t),1,e),l.splice(l.indexOf(o),1)}else{let e=n(t);e.push(o),l[l.indexOf(t)]={key:t,children:e},l.splice(l.indexOf(o),1)}}if(a&&Vn){s=Vn.toArray();let e=null==(r=a.value)?void 0:r.key,t=l.findIndex((t=>t==e));l[t]={key:l[t],children:s}}Gn&&(o(null),null==(i=qn.parentElement)||i.removeChild(qn),Gn=!1),t(l),Ye.value.allowTouchMove=!0}};"#appArray-box"==e?Vn=En.create(l,c):zn=En.create(l,c)};var Jn=c({name:"Home",components:{Dock:Ce,HandleApp:Le},setup(){const{dragStatus:e,changeDragStatus:t}=fe(),{appsList:n,curColumn:o}=(()=>{const e=r(0),t=J("--grid-row-gap"),n=J("--app-height"),o=J("--app-width"),a=J("--grid-col-gap"),{localApp:i,myApplist:l}=ye(),s=r([[]]),c=()=>{const r=document.querySelector(".swiper-slide");if(!r)return;let{width:i,height:c}=r.getBoundingClientRect();const u=Math.floor((c+t)/(n+t)),p=Math.floor((i+a)/(o+a));e.value=p;const d=u*p;let h=0,m=0,f=[[]];l.value.forEach((e=>{switch(e.type){case te.App:m+=1,e.component=T(Ae);break;case te.Weather:m+=2*p,e.component=T(Ne),e.style=`grid-column-start: 1;grid-column-end: ${p+1};grid-row-start:1;grid-row-end:3`;break;default:m+=1,e.component=T(Ae)}m>d?(m=0,f.push([e]),h+=1):f[h].push(e)})),s.value=f};return S(i,(()=>{console.log("变动了"),c()})),E((()=>{window.addEventListener("resize",c),c()})),{appsList:s,curColumn:e}})(),{containerBgX:a,containerBgDuration:i,swiperMain:l}=(()=>{const e=r(0),t=r(0);return E((()=>{A((()=>{Ye.value=new D(".my-swipe",{pagination:{el:".swiper-pagination"},loop:!1,watchSlidesProgress:!0,on:{progress:(n,o)=>{let a=Number((50*o).toFixed(2));Math.abs(a-e.value)>20?t.value=.3:t.value=0,e.value=a}}})}))})),{containerBgX:e,containerBgDuration:t,swiperMain:Ye}})();E((()=>{Kn(".grid-box")})),S(n.value,(()=>{A((()=>{var e;null==(e=l.value)||e.update()}))}));return{test:()=>{document.documentElement.requestFullscreen()},curColumn:o,appsList:n,containerBgX:a,containerBgDuration:i,closeDarg:()=>{0!=e.value&&t()},dragStatus:e}}});const Qn=b();w("data-v-294ee161");const Zn={class:"swiper-container my-swipe"},eo={class:"swiper-wrapper"},to=g("div",{class:"swiper-pagination"},null,-1);k();const no=Qn(((o,a,r,i,l,s)=>{const c=e("HandleApp"),u=e("Dock");return t(),n("div",{class:"container",style:`background-position-x: ${o.containerBgX}%;transition: background ${o.containerBgDuration}s;`},[o.dragStatus?(t(),n("div",{key:0,class:"closeHandle",onClick:a[1]||(a[1]=(...e)=>o.closeDarg&&o.closeDarg(...e))},"完成")):m("",!0),g("div",Zn,[g("div",eo,[(t(!0),n(f,null,v(o.appsList,((e,r)=>(t(),n("div",{class:"swiper-slide",key:r},[g("div",{class:"grid-box",onClick:a[2]||(a[2]=x(((...e)=>o.closeDarg&&o.closeDarg(...e)),["self"])),style:`grid-template-columns: repeat(${o.curColumn}, var(--app-width))`},[(t(!0),n(f,null,v(e,(e=>(t(),n(c,{key:e.key,style:e.style,app:e},{default:Qn((()=>[(t(),n(O(e.component),{app:e},null,8,["app"]))])),_:2},1032,["style","app"])))),128))],4)])))),128))]),to]),g(u)],4)}));Jn.render=no,Jn.__scopeId="data-v-294ee161";var oo=c({emits:["closeApp"],setup(e,t){const n=M(),o=u(),a=r(!0),i=l((()=>{var e;return re[(null==(e=n.meta)?void 0:e.style)||"white"]})),{changeRouterHistory:s}=we();S((()=>n.path),(()=>{"home"!=n.name&&n.matched.length&&n.matched[0].name&&s({type:"add",appName:n.matched[0].name,value:n.fullPath})}));return{fade:a,color:i,closeApp:async()=>{a.value=!1,t.emit("closeApp"),setTimeout((()=>{o.push({name:"home"}),a.value=!0}),500)}}}});const ao=b();w("data-v-3c572cd9");const ro={class:"app-layout",ref:"appBox"},io={t:"1620283141610",class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"2038",width:"200",height:"200"},lo={id:"routerView"};k();const so=ao(((o,a,r,i,l,s)=>{const c=e("router-view");return t(),n("div",ro,[g("div",{class:"close",onClick:a[1]||(a[1]=(...e)=>o.closeApp&&o.closeApp(...e))},[(t(),n("svg",io,[g("path",{d:"M512 0C228.96 0 0 228.96 0 512c0 283.04 228.96 512 512 512 283.04 0 512-228.96 512-512C1024 228.96 795.04 0 512 0z m0 903.52c-216.8 0-391.52-174.72-391.52-391.52 0-216.8 174.72-391.52 391.52-391.52 216.8 0 391.52 174.72 391.52 391.52 0 216.8-174.72 391.52-391.52 391.52z",fill:o.color,"p-id":"2039"},null,8,["fill"]),g("path",{d:"M316.16 512c0 108.16 87.68 195.84 195.84 195.84S707.84 620.16 707.84 512 620.16 316.16 512 316.16 316.16 403.84 316.16 512z m0 0",fill:o.color,"p-id":"2040"},null,8,["fill"])]))]),o.$route.meta&&"app"==o.$route.meta.type?m("",!0):(t(),n(c,{key:0},{default:ao((({Component:e})=>[g(L,{name:"fade"},{default:ao((()=>[(t(),n(O(e),{ref:"component"},null,512))])),_:2},1024)])),_:1})),g(L,{name:"fade"},{default:ao((()=>[I(g("div",lo,"系统加载中...",512),[[N,"app"==o.$route.meta.type]])])),_:1})],512)}));oo.render=so,oo.__scopeId="data-v-3c572cd9";const co=P.create({baseURL:"/",timeout:1e4});co.interceptors.request.use((e=>(e.headers["Content-Type"]="application/x-www-form-urlencoded","post"===e.method&&e.data?(e.data=JSON.stringify(e.data),e.headers["Content-Type"]="application/json",e):e)),(e=>(console.log(e),Promise.reject(e)))),co.interceptors.response.use((e=>e.data),(e=>(console.log("err"+e),R(e.message),Promise.reject(e))));const uo=[1,2,3,4,5,6,7,8,9];var po=c({props:{password:{type:String,default:""}},emits:["callback","close"],setup(e,t){const n=r([]),o=r(!1),a=()=>{let a=n.value.join("");e.password&&e.password!=a?(o.value=!0,setTimeout((()=>{o.value=!1,n.value=[],t.emit("callback",a,!1)}),500)):(n.value=[],t.emit("callback",a,!0))};return{keys:uo,inputList:n,dance:o,ketDown:e=>{n.value.length>=6||(n.value.push(e),6==n.value.length&&a())},cancel:()=>{t.emit("close")},remove:()=>{n.value.pop()}}}});const ho=b();w("data-v-44182a9e");const mo={class:"keyboard"},fo=g("div",{class:"btn empty"},null,-1),vo=g("div",{class:"btn empty"},null,-1),go={class:"handle"},yo=g("div",null,null,-1);k();const bo=ho(((e,o,a,r,i,l)=>(t(),n("div",null,[g("div",{class:{input:!0,dance:e.dance}},[(t(),n(f,null,v(6,(t=>g("div",{class:{garden:!0,fill:e.inputList.length>=t},key:t},null,2))),64))],2),g("div",mo,[(t(!0),n(f,null,v(e.keys,(o=>(t(),n("div",{class:"btn",key:o,onTouchend:t=>e.ketDown(o)},y(o),41,["onTouchend"])))),128)),fo,g("div",{class:"btn",onTouchend:o[1]||(o[1]=t=>e.ketDown(0))},"0",32),vo]),g("div",go,[_(e.$slots,"default",{},(()=>[yo]),{}),I(g("div",{onClick:o[2]||(o[2]=(...t)=>e.remove&&e.remove(...t))},"删除",512),[[N,e.inputList.length]]),I(g("div",{onClick:o[3]||(o[3]=(...t)=>e.cancel&&e.cancel(...t))},"取消",512),[[N,!e.inputList.length]])])]))));po.render=bo,po.__scopeId="data-v-44182a9e";var wo=c({components:{numberLock:po},emits:["openLock","cancel"],setup(e,t){const{lockPwd:n}=de();return{password:n,op:()=>{t.emit("openLock")},cancel:()=>{t.emit("cancel")},lockCallback:(e,n)=>{n&&t.emit("openLock")}}}});const ko=b();w("data-v-07215331");const _o={class:"container"},Eo=g("div",{class:"top"},"输入密码",-1);k();const Ao=ko(((o,a,r,i,l,s)=>{const c=e("numberLock");return t(),n("div",_o,[Eo,g(c,{password:o.password,onCallback:o.lockCallback,onClose:o.cancel},{default:ko((()=>[g("div",{onClick:a[1]||(a[1]=(...e)=>o.op&&o.op(...e))},"紧急操作")])),_:1},8,["password","onCallback","onClose"])])}));wo.render=Ao,wo.__scopeId="data-v-07215331";const So=80,To="#fff",Do="#27ae60",Co="#c0392b",xo=10,Oo=30,Mo=30;const Lo=(e,t,n)=>Math.sqrt(Math.pow(n.x-e,2)+Math.pow(n.y-t,2))<=So/2;var Io=c({props:{password:{type:String,default:""}},emits:["callback"],setup(e,t){const{canvasEl:n,canvasMoveStart:o,canvasMove:a,canvasMoveEnd:l}=function(){const e=i({width:0,height:0,left:0,top:0}),t=r([]),n=r([]);let o,a=r(null);const l=()=>{const n=a.value;if(n){if(o=n.getContext("2d"),e.width=n.width,e.height=n.height,e.left=n.offsetLeft,e.top=n.offsetTop,t.value=[],9!=t.value.length)for(let e=0;e<9;e++){let{x:n,y:o}=s(e),a={x:n,y:o,status:!1,value:e};t.value.push(a)}o.clearRect(0,0,e.width,e.height),t.value.forEach((e=>{c(e)}))}},s=e=>({x:So*(e%3)+Oo*(e%3)+So/2,y:So*Math.floor(e/3)+Mo*Math.floor(e/3)+So/2}),c=(e,t=!0)=>{let n=To;e.status&&(n=t?Do:Co),o.beginPath(),o.arc(e.x,e.y,So/2-1,0,2*Math.PI,!0),o.strokeStyle=n,o.lineWidth=1,o.stroke(),o.beginPath(),o.arc(e.x,e.y,xo/2,0,2*Math.PI,!0),o.fillStyle=n,o.fill()},u=(a,r,i,l=!0)=>{o.clearRect(0,0,e.width,e.height),o.save(),o.beginPath(),o.strokeStyle=l?Do:Co,o.lineWidth=6,o.lineJoin="round",o.lineCap="round",n.value.forEach(((e,n)=>{0==n?o.moveTo(t.value[e-1].x,t.value[e-1].y):o.lineTo(t.value[e-1].x,t.value[e-1].y)})),i&&n.value.length&&o.lineTo(a,r),o.stroke(),o.restore(),t.value.forEach((e=>{Lo(a,r,e)&&!e.status&&(n.value.push(e.value+1),e.status=!0),c(e,l)}))};return E(l),{canvasEl:a,canvasMoveStart:t=>{let{pageX:n,pageY:o}=t.targetTouches[0];n-=e.left,o-=e.top,u(n,o,!0)},canvasMove:t=>{let{pageX:n,pageY:o}=t.targetTouches[0];n-=e.left,o-=e.top,u(n,o,!0)},canvasMoveEnd:(e,t)=>{let o=n.value.join(""),a=!e||o==e;u(0,0,!1,a),t.emit("callback",o,a),n.value=[],setTimeout((()=>{l()}),300)}}}();return{canvasEl:n,canvasMoveStart:o,canvasMove:a,canvasMoveEnd:()=>{l(e.password,t)}}}});const No=b()(((e,o,a,r,i,l)=>(t(),n("canvas",{class:"lock-canvas",ref:"canvasEl",width:"300",height:"300",onTouchstart:o[1]||(o[1]=(...t)=>e.canvasMoveStart&&e.canvasMoveStart(...t)),onTouchmove:o[2]||(o[2]=(...t)=>e.canvasMove&&e.canvasMove(...t)),onTouchend:o[3]||(o[3]=(...t)=>e.canvasMoveEnd&&e.canvasMoveEnd(...t))},null,544))));Io.render=No,Io.__scopeId="data-v-4a5eff36";var Po=c({components:{SlideLock:Io},emits:["openLock","cancel"],setup(e,t){const{lockPwd:n}=de(),o=()=>{t.emit("openLock")};return{password:n,lockCb:(e,t)=>{t&&o()},op:o,cancel:()=>{t.emit("cancel")}}}});const Ro=b();w("data-v-819ee4a4");const Bo={class:"container"},jo=g("div",{class:"top"},"手势解锁",-1),Xo={class:"handle"};k();const Yo=Ro(((o,a,r,i,l,s)=>{const c=e("SlideLock");return t(),n("div",Bo,[jo,g(c,{password:o.password,onCallback:o.lockCb},null,8,["password","onCallback"]),g("div",Xo,[g("div",{onClick:a[1]||(a[1]=(...e)=>o.op&&o.op(...e))},"紧急操作"),g("div",{onClick:a[2]||(a[2]=(...e)=>o.cancel&&o.cancel(...e))},"取消")])])}));Po.render=Yo,Po.__scopeId="data-v-819ee4a4";const Fo=["日","一","二","三","四","五","六"];function Ho(){const e=r("");return co({url:"https://v1.hitokoto.cn/",method:"get"}).then((t=>{e.value=t.hitokoto})),e}var Wo=c({components:{NumberView:wo,SlideView:Po},setup(){const e=r(le.Normal),{lockPwd:t,changeLockState:n}=de(),{time:o,date:a}=function(){let e=r(""),t=r("");const n=()=>{let n=new Date,o=n.getMonth()+1,a=n.getDate(),r=n.getHours();r=r<10?"0"+r:r;let i=n.getMinutes();i=i<10?"0"+i:i;let l=n.getDay();e.value=r+":"+i,t.value=o+"月"+a+"日 周"+Fo[l]};return n(),setTimeout(n,1e3),{time:e,date:t}}(),{transition:i,curBlurNum:l,translateY:s,windowHeight:c,touchStart:u}=function(e,t){const n=r(0),o=r(0),a=r(0),i=r(667|window.innerHeight),{lockType:l,changeLockState:s}=de();return{transition:n,curBlurNum:o,translateY:a,windowHeight:i,touchStart:r=>{let c=r.touches[0].pageY,u=0,p=0,d=e=>{n.value=0;let t=e.touches[0].pageY;u=c-t,p=Math.floor(u/(.8*i.value)*100)/10,o.value=Math.max(0,p),a.value=Math.max(0,u)},h=()=>{n.value=.3,u=u>.2*i.value?i.value:0,a.value=u,o.value=u?1:0,a.value&&setTimeout((()=>{t.value&&l.value!=le.Normal?e.value=l.value:s()}),100),document.removeEventListener("touchmove",d),document.removeEventListener("touchend",h)};document.addEventListener("touchmove",d),document.addEventListener("touchend",h)}}}(e,t),p=Ho();return{lockStep:e,time:o,date:a,transition:i,curBlurNum:l,translateY:s,windowHeight:c,touchStart:u,LockType:le,tipsContent:p,openLock:()=>{setTimeout((()=>{n(),e.value=le.Normal}),100)},cancel:()=>{e.value=le.Normal}}}});const $o=b();w("data-v-5aea46a8");const zo=g("img",{src:"https://xluoyu.github.io/image-riverbed/iphone/background/background.jpg",alt:"",class:"bg"},null,-1),Vo={class:"top"},qo=g("span",null,"向上滑动解锁",-1),Uo={class:"time-box"},Go={class:"tips"};k();const Ko=$o(((o,a,r,i,l,s)=>{const c=e("van-icon"),u=e("NumberView"),p=e("SlideView");return t(),n("div",{class:"lock",onTouchstart:a[1]||(a[1]=(...e)=>o.touchStart&&o.touchStart(...e))},[zo,o.lockStep==o.LockType.Normal?(t(),n("div",{key:0,class:"notice-container",style:`-webkit-backdrop-filter: blur(${o.curBlurNum}px);transition: all ${o.transition}s;transform: translateY(-${o.translateY}px);`},[g("div",Vo,[g(c,{name:"lock",color:"#fff"}),qo]),g("div",Uo,[g("h2",null,y(o.time),1),g("p",null,y(o.date),1),g("p",Go,y(o.tipsContent),1)])],4)):m("",!0),o.lockStep==o.LockType.Number?(t(),n(u,{key:1,onOpenLock:o.openLock,onCancel:o.cancel},null,8,["onOpenLock","onCancel"])):m("",!0),o.lockStep==o.LockType.Slide?(t(),n(p,{key:2,onOpenLock:o.openLock,onCancel:o.cancel},null,8,["onOpenLock","onCancel"])):m("",!0)],32)}));Wo.render=Ko,Wo.__scopeId="data-v-5aea46a8";var Jo=c({components:{App:Ae,HandleApp:Le},setup(){const{isUseCssTransition:e,currentApp:t,changeCurrentApp:n}=Ee();let o=document.documentElement.offsetWidth,a=document.documentElement.offsetHeight,r=null;return S(t,(()=>{t.value&&A((()=>{Kn("#appArray-box")}))})),{isUseCssTransition:e,currentApp:t,beforeEnter:e=>{var n;let i=null==(n=t.value)?void 0:n.key;r=document.querySelector("#"+i);let{top:l,left:s,width:c,height:u}=r.getBoundingClientRect(),p=l+u/2-.16*a+.15*(l-a/2),d=s+c/2-.1*o+.15*(s-o/2);p=Number(p.toFixed(2)),d=Number(d.toFixed(2)),r.style.opacity="0",e.style.transformOrigin=`${d}px ${p}px`},afterLeave:()=>{r.style.opacity="1"},closeArray:()=>{n(null)}}}});const Qo=b();w("data-v-ed5d9200");const Zo={key:0,id:"app-array-toast"},ea={id:"appArray-box"};k();const ta=Qo(((o,a,r,i,l,s)=>{const c=e("App"),u=e("HandleApp");return t(),n(f,null,[g(L,{name:"appArray",onBeforeEnter:o.beforeEnter,onAfterLeave:o.afterLeave,css:o.isUseCssTransition},{default:Qo((()=>[o.currentApp?(t(),n("div",Zo,[I(g("input",{type:"text","onUpdate:modelValue":a[1]||(a[1]=e=>o.currentApp.name=e),class:"box-title"},null,512),[[B,o.currentApp.name]]),g("div",ea,[(t(!0),n(f,null,v(o.currentApp.children,(e=>(t(),n(u,{key:e.key,style:e.style,app:e},{default:Qo((()=>[g(c,{app:e},null,8,["app"])])),_:2},1032,["style","app"])))),128))])])):m("",!0)])),_:1},8,["onBeforeEnter","onAfterLeave","css"]),I(g("div",{class:"app-array-bg",onClick:a[2]||(a[2]=x(((...e)=>o.closeArray&&o.closeArray(...e)),["self"]))},null,512),[[N,o.currentApp]])],64)}));Jo.render=ta,Jo.__scopeId="data-v-ed5d9200";var na=c({name:"App",components:{Home:Jn,Lock:Wo,AppArray:Jo,AppLayout:oo},setup(){const{lockStatus:e}=de(),t=r(!1),n=M();return{routeStatus:l((()=>!(t.value||!n.matched.length)&&"home"!=n.name)),lockStatus:e,closeApp:()=>{t.value=!0,setTimeout((()=>{t.value=!1}),600)},beforeEnter:e=>{let t=n.matched[0].name||"",o=document.querySelector(`#${String(t)}`),{top:a,left:r,width:i,height:l}=o.getBoundingClientRect(),s=l/2+a,c=i/2+r;e.style.transformOrigin=`${c}px ${s}px`}}}});const oa={class:"page"};na.render=function(o,a,r,i,l,s){const c=e("Lock"),u=e("AppArray"),p=e("Home"),d=e("app-layout");return t(),n("div",oa,[o.lockStatus?(t(),n(c,{key:0})):m("",!0),g(u),g(p),g(L,{name:"app",onBeforeEnter:o.beforeEnter},{default:j((()=>[I(g(d,{onCloseApp:o.closeApp},null,8,["onCloseApp"]),[[N,o.routeStatus]])])),_:1},8,["onBeforeEnter"])])};var aa={install:e=>{e.use(X).use(Y).use(F).use(R).use(H).use(W).use(p).use(s)}};$();const ra=z(na);ra.use(ee),ra.use(aa),ra.mount("#app");export{le as I,po as _,Io as a,U as b,de as u};
